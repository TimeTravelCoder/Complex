<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¡ç®—æœºç½‘ç»œæ ¸å¿ƒæ¦‚å¿µäº¤äº’å¼è§£è¯»ï¼ˆæœ€ç»ˆç‰ˆï¼‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: åœ¨æœ€ç»ˆç‰ˆä¸­ï¼Œå¯¹â€œä½“ç³»ç»“æ„â€éƒ¨åˆ†çš„æ ¸å¿ƒäº¤äº’æ¨¡å—â€œæ•°æ®å°è£…è¿‡ç¨‹â€è¿›è¡Œäº†å½»åº•é‡æ„ï¼Œä»¥å®ç°å®Œæ•´çš„å°è£…ä¸è§£å°è£…æ¼”ç¤ºã€‚æ–°çš„è®¾è®¡é‡‡ç”¨åŒæ å¸ƒå±€ï¼Œåˆ†åˆ«ä»£è¡¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹ï¼Œå¼•å¯¼ç”¨æˆ·èµ°å®Œæ•°æ®ä»å°è£…ã€ä¼ è¾“åˆ°è§£å°è£…çš„å…¨è¿‡ç¨‹ã€‚æ­¤é¡¹æ”¹åŠ¨æ—¨åœ¨è§£å†³ä¹‹å‰ç‰ˆæœ¬åªæ¼”ç¤ºäº†å•å‘å°è£…çš„é—®é¢˜ï¼Œä»è€Œæä¾›ä¸€ä¸ªæ›´å®Œæ•´ã€æ›´ç¬¦åˆå®é™…é€šä¿¡è¿‡ç¨‹çš„æ•™å­¦æ¨¡å‹ã€‚ -->
    <!-- Visualization & Content Choices:
        - å®Œæ•´å°è£…ä¸è§£å°è£… -> ç›®æ ‡: å±•ç¤ºæ•°æ®åœ¨åè®®æ ˆä¸­çš„åŒå‘æµåŠ¨å’Œå½¢æ€å˜åŒ– -> å±•ç°å½¢å¼: åŒæ åˆ†æ­¥å¼å›¾è§£ -> äº¤äº’: ç”¨æˆ·é€šè¿‡â€œä¸Š/ä¸‹ä¸€æ­¥â€æŒ‰é’®æ§åˆ¶æ•´ä¸ªæµç¨‹ï¼ŒåŒ…æ‹¬å‘é€ç«¯çš„é€å±‚å°è£…å’Œæ¥æ”¶ç«¯çš„é€å±‚è§£å°è£…ã€‚å½“å‰æ´»åŠ¨çš„å±‚å’ŒPDUï¼ˆåè®®æ•°æ®å•å…ƒï¼‰ä¼šè¢«é«˜äº®å’Œæ¸…æ™°æ ‡æ³¨ -> ç†ç”±: è¿™ç§å®Œæ•´çš„ã€å¯æ§çš„ã€åˆ†æ­¥å¼çš„æ¼”ç¤ºï¼Œèƒ½æå¤§åœ°å¸®åŠ©ç”¨æˆ·ç†è§£æ•°æ®åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„æœ¬è´¨ï¼Œæ˜¯ç†è§£åˆ†å±‚æ¨¡å‹æœ€å…³é”®çš„ä¸€ç¯ã€‚
        - å…¶ä»–æ¨¡å—ä¿æŒä¸å˜ï¼Œç¡®ä¿åº”ç”¨çš„ç¨³å®šæ€§å’Œä¸€è‡´æ€§ã€‚
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans SC', sans-serif; background-color: #fdfaf6; color: #4a4a4a; }
        .nav-link { position: relative; transition: color 0.3s; padding-bottom: 4px; }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background-color: #c88a53; transform: scaleX(0); transition: transform 0.3s ease-in-out; }
        .nav-link:hover::after, .nav-link.active::after { transform: scaleX(1); }
        .nav-link.active { color: #c88a53; }
        .card { background-color: #ffffff; border: 1px solid #f0e9e1; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.04); transition: transform 0.3s, box-shadow 0.3s; opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .card.is-visible { opacity: 1; transform: translateY(0); }
        .card:hover { transform: translateY(-5px); box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
        .btn { background-color: #c88a53; color: white; padding: 10px 20px; border-radius: 8px; transition: background-color 0.3s, transform 0.2s; }
        .btn:hover { background-color: #b77b4a; transform: scale(1.05); }
        .btn:disabled { background-color: #a0a0a0; cursor: not-allowed; }
        .timeline::before { content: ''; position: absolute; left: 12px; top: 0; bottom: 0; width: 4px; background-color: #e2d9ce; border-radius: 2px; }
        .timeline-item { position: relative; padding-left: 50px; margin-bottom: 40px; }
        .timeline-item::after { content: ''; position: absolute; top: 5px; left: 0; width: 25px; height: 25px; background-color: white; border: 4px solid #c88a53; border-radius: 50%; z-index: 1; }
        .timeline-content { padding: 20px; background-color: white; position: relative; border-radius: 8px; border: 1px solid #f0e9e1; }
        @media (min-width: 768px) {
            .timeline::before { left: 50%; transform: translateX(-50%); }
            .timeline-item { width: 50%; padding-left: 0; padding-right: 50px; margin-bottom: 0; }
            .timeline-item:nth-child(even) { left: 50%; padding-left: 50px; padding-right: 0; }
            .timeline-item::after { top: 20px; right: -12.5px; left: auto; }
            .timeline-item:nth-child(even)::after { left: -12.5px; }
        }
        .layer-item { border-bottom: 1px solid #e2d9ce; }
        .layer-header { padding: 1rem 1.5rem; cursor: pointer; background-color: #fff; transition: background-color 0.3s; }
        .layer-header:hover { background-color: #f9f5f0; }
        .layer-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out; background-color: #fdfaf6; padding: 0 1.5rem; }
        .layer-content.open { max-height: 500px; padding: 1.5rem 1.5rem; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .tab-btn { transition: all 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn.active { color: #c88a53; border-bottom-color: #c88a53; background-color: #fdfaf6; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .transmission-layer { border: 2px solid #e2d9ce; border-radius: 8px; padding: 0.5rem; margin-bottom: 0.5rem; text-align: center; transition: all 0.3s; }
        .transmission-layer.active { border-color: #c88a53; background-color: #fef8f2; transform: scale(1.05); }
        #data-packet { position: absolute; width: 40px; height: 30px; background-color: #c88a53; color: white; display: flex; align-items: center; justify-content: center; border-radius: 4px; font-size: 12px; transition: all 0.8s ease-in-out; opacity: 0; }
        .encap-layer { padding: 0.5rem; border: 1px solid #e2d9ce; border-radius: 4px; transition: all 0.3s; }
        .encap-layer.active { border-color: #c88a53; background-color: #fef8f2; }
        .pdu-view { display: flex; align-items: center; min-height: 38px; }
        .pdu-header { background-color: #e2d9ce; color: #4a4a4a; padding: 0.5rem 1rem; border-radius: 4px; margin-right: 0.5rem; font-weight: 500; }
        .pdu-data { background-color: #c88a53; color: white; padding: 0.5rem 1rem; border-radius: 4px; flex-grow: 1; text-align: center; }
    </style>
</head>
<body class="bg-gray-50">

    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-800">è®¡ç®—æœºç½‘ç»œæ¦‚è¿°</h1>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#concepts" class="nav-link text-gray-600 hover:text-gray-900">æ ¸å¿ƒæ¦‚å¿µ</a>
                <a href="#history" class="nav-link text-gray-600 hover:text-gray-900">å‘å±•å†ç¨‹</a>
                <a href="#components" class="nav-link text-gray-600 hover:text-gray-900">äº’è”ç½‘ç»„æˆ</a>
                <a href="#performance" class="nav-link text-gray-600 hover:text-gray-900">ç½‘ç»œæ€§èƒ½</a>
                <a href="#architecture" class="nav-link text-gray-600 hover:text-gray-900">ä½“ç³»ç»“æ„</a>
            </div>
            <div class="md:hidden"><button id="mobile-menu-button" class="text-gray-600 focus:outline-none"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button></div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#concepts" class="block py-2 px-6 text-sm text-gray-700 hover:bg-gray-100 mobile-nav-link">æ ¸å¿ƒæ¦‚å¿µ</a>
            <a href="#history" class="block py-2 px-6 text-sm text-gray-700 hover:bg-gray-100 mobile-nav-link">å‘å±•å†ç¨‹</a>
            <a href="#components" class="block py-2 px-6 text-sm text-gray-700 hover:bg-gray-100 mobile-nav-link">äº’è”ç½‘ç»„æˆ</a>
            <a href="#performance" class="block py-2 px-6 text-sm text-gray-700 hover:bg-gray-100 mobile-nav-link">ç½‘ç»œæ€§èƒ½</a>
            <a href="#architecture" class="block py-2 px-6 text-sm text-gray-700 hover:bg-gray-100 mobile-nav-link">ä½“ç³»ç»“æ„</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">
        
        <section id="welcome" class="text-center mb-20 pt-8">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-800">æ¬¢è¿æ¥åˆ°äº¤äº’å¼è®¡ç®—æœºç½‘ç»œä¸–ç•Œ</h2>
            <p class="text-lg max-w-3xl mx-auto text-gray-600">æœ¬åº”ç”¨å°†ã€Šè®¡ç®—æœºç½‘ç»œã€‹ç¬¬ä¸€ç« çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œé€šè¿‡äº¤äº’å¼çš„æ–¹å¼è¿›è¡Œå‘ˆç°ã€‚æ‚¨å¯ä»¥é€šè¿‡é¡¶éƒ¨å¯¼èˆªæ æ¢ç´¢ä¸åŒä¸»é¢˜ï¼Œæˆ–æŒ‰é¡ºåºæµè§ˆï¼Œä¸å›¾è¡¨å’Œæ¨¡å‹äº’åŠ¨ï¼Œè½»æ¾æŒæ¡ç½‘ç»œåŸºç¡€ã€‚</p>
        </section>

        <section id="concepts" class="mb-20 scroll-target">
            <h2 class="text-3xl font-bold text-center mb-12">æ ¸å¿ƒæ¦‚å¿µ</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card p-6 text-center"><div class="text-5xl mb-4">ğŸŒ</div><h3 class="text-xl font-bold mb-2">ä¸‰å¤§ç½‘ç»œèåˆ</h3><p class="text-gray-600">ç”µä¿¡ç½‘ç»œã€æœ‰çº¿ç”µè§†ç½‘ç»œå’Œè®¡ç®—æœºç½‘ç»œæ­£æ—¥ç›Šèåˆã€‚å…¶ä¸­ï¼Œè®¡ç®—æœºç½‘ç»œå‘å±•æœ€å¿«ï¼Œèµ·æ ¸å¿ƒä½œç”¨ï¼Œå¼•é¢†â€œä¸‰ç½‘èåˆâ€è¶‹åŠ¿ã€‚</p></div>
                <div class="card p-6 text-center"><div class="text-5xl mb-4">ğŸ”—</div><h3 class="text-xl font-bold mb-2">æ ¸å¿ƒä»·å€¼ï¼šè¿é€šæ€§</h3><p class="text-gray-600">äº’è”ç½‘è®©å…¨çƒç”¨æˆ·å¯ä»¥ä¾¿æ·ã€ç»æµåœ°äº¤æ¢å„ç§ä¿¡æ¯ï¼Œæ— è®ºç›¸è·å¤šè¿œï¼Œéƒ½å¦‚åŒå½¼æ­¤ç›´æ¥è¿é€šã€‚</p></div>
                <div class="card p-6 text-center"><div class="text-5xl mb-4">ğŸ¤</div><h3 class="text-xl font-bold mb-2">æ ¸å¿ƒä»·å€¼ï¼šå…±äº«</h3><p class="text-gray-600">æŒ‡èµ„æºå…±äº«ï¼ŒåŒ…æ‹¬ä¿¡æ¯å…±äº«ã€è½¯ä»¶å…±äº«å’Œç¡¬ä»¶å…±äº«ã€‚ç½‘ç»œä¸Šçš„æµ·é‡èµ„æºå¯ä¾›ç”¨æˆ·æ–¹ä¾¿åœ°è®¿é—®å’Œä½¿ç”¨ã€‚</p></div>
            </div>
        </section>

        <section id="history" class="mb-20 scroll-target">
            <h2 class="text-3xl font-bold text-center mb-12">äº’è”ç½‘å‘å±•å†ç¨‹</h2>
            <p class="text-center max-w-3xl mx-auto mb-12 text-gray-600">äº’è”ç½‘çš„ç»“æ„å¹¶éä¸€æˆä¸å˜ï¼Œå®ƒç»å†äº†ä»å•ä¸€ç§‘ç ”ç½‘ç»œåˆ°å…¨çƒå•†ä¸šåŒ–ç½‘ç»œçš„é‡è¦æ¼”å˜ã€‚è¿™ä¸ªäº¤äº’å¼æ—¶é—´çº¿å°†å¸¦æ‚¨å›é¡¾å…¶å‘å±•çš„ä¸‰ä¸ªå…³é”®é˜¶æ®µã€‚</p>
            <div class="relative timeline max-w-5xl mx-auto">
                <div class="timeline-item"><div class="timeline-content card"><h3 class="text-lg font-bold">ç¬¬ä¸€é˜¶æ®µ: ä»ARPANETå‘äº’è¿ç½‘å‘å±•</h3><p class="text-sm text-gray-500 mb-2">1969 - 1985</p><p class="text-gray-600">èµ·æºäºç¾å›½å›½é˜²éƒ¨çš„ARPANETã€‚é‡Œç¨‹ç¢‘äº‹ä»¶æ˜¯ 1983å¹´ï¼ŒTCP/IPåè®®æˆä¸ºæ ‡å‡†ï¼Œæ ‡å¿—ç€äº’è”ç½‘çš„æ­£å¼è¯ç”Ÿã€‚</p></div></div>
                <div class="timeline-item"><div class="timeline-content card"><h3 class="text-lg font-bold">ç¬¬äºŒé˜¶æ®µ: å»ºæˆä¸‰çº§ç»“æ„äº’è”ç½‘</h3><p class="text-sm text-gray-500 mb-2">1985 - 1993</p><p class="text-gray-600">ä»¥ç¾å›½å›½å®¶ç§‘å­¦åŸºé‡‘ä¼šNSFNETä¸ºä¸»å¯¼ï¼Œå½¢æˆäº†ä¸»å¹²ç½‘ã€åœ°åŒºç½‘ã€æ ¡å›­ç½‘çš„ä¸‰çº§ç»“æ„ã€‚</p></div></div>
                <div class="timeline-item"><div class="timeline-content card"><h3 class="text-lg font-bold">ç¬¬ä¸‰é˜¶æ®µ: å½¢æˆå¤šå±‚æ¬¡ISPç»“æ„</h3><p class="text-sm text-gray-500 mb-2">1993 - è‡³ä»Š</p><p class="text-gray-600">äº’è”ç½‘è½¬å‘å•†ä¸šåŒ–è¿è¥ï¼Œå‡ºç°äº†äº’è”ç½‘æœåŠ¡æä¾›è€…(ISP)ï¼Œå¹¶å½¢æˆäº†å…¨çƒæ€§çš„å¤šå±‚æ¬¡ISPç»“æ„ã€‚</p></div></div>
            </div>
        </section>

        <section id="components" class="mb-20 scroll-target">
            <h2 class="text-3xl font-bold text-center mb-12">äº’è”ç½‘çš„ç»„æˆ</h2>
            <p class="text-center max-w-3xl mx-auto mb-12 text-gray-600">ä»å·¥ä½œæ–¹å¼æ¥çœ‹ï¼Œäº’è”ç½‘å¯åˆ’åˆ†ä¸ºç”¨æˆ·ç›´æ¥æ¥è§¦çš„â€œè¾¹ç¼˜éƒ¨åˆ†â€å’Œè´Ÿè´£æ•°æ®è½¬å‘çš„â€œæ ¸å¿ƒéƒ¨åˆ†â€ã€‚è¯·ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾é¡µï¼Œæ¢ç´¢å®ƒä»¬å„è‡ªçš„è§’è‰²å’Œå…³é”®æŠ€æœ¯ã€‚</p>
            <div class="card max-w-4xl mx-auto">
                <div class="flex border-b border-gray-200"><button data-tab="edge" class="tab-btn flex-1 p-4 font-semibold active">è¾¹ç¼˜éƒ¨åˆ† (Edge Part)</button><button data-tab="core" class="tab-btn flex-1 p-4 font-semibold">æ ¸å¿ƒéƒ¨åˆ† (Core Part)</button></div>
                <div class="p-8">
                    <div id="edge" class="tab-content active"><p class="text-gray-600 mb-6">ç”±æ‰€æœ‰è¿æ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœº(Host)ç»„æˆï¼Œæ˜¯ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„éƒ¨åˆ†ï¼Œç”¨äºé€šä¿¡å’Œèµ„æºå…±äº«ã€‚</p><div class="space-y-4"><div><h4 class="font-semibold text-lg">C/S æ–¹å¼ (Client/Server)</h4><p class="text-gray-600">æœ€ä¼ ç»Ÿçš„æ¨¡å¼ï¼Œç”±æœåŠ¡è¯·æ±‚æ–¹(å®¢æˆ·)å’ŒæœåŠ¡æä¾›æ–¹(æœåŠ¡å™¨)æ„æˆã€‚</p></div><div><h4 class="font-semibold text-lg">P2P æ–¹å¼ (Peer-to-Peer)</h4><p class="text-gray-600">ä¸»æœºé—´ä¸ä¸¥æ ¼åŒºåˆ†å®¢æˆ·å’ŒæœåŠ¡å™¨ï¼Œæ¯å°ä¸»æœºæ—¢å¯è¯·æ±‚æœåŠ¡ï¼Œä¹Ÿå¯æä¾›æœåŠ¡ã€‚</p></div></div></div>
                    <div id="core" class="tab-content"><p class="text-gray-600 mb-6">ç”±å¤§é‡çš„ç½‘ç»œå’Œè·¯ç”±å™¨ç»„æˆï¼Œå…¶ä½œç”¨æ˜¯ä¸ºè¾¹ç¼˜éƒ¨åˆ†æä¾›é«˜æ•ˆçš„æ•°æ®äº¤æ¢å’Œè½¬å‘æœåŠ¡ã€‚</p><div class="space-y-4"><h4 class="font-semibold text-lg">äº¤æ¢æŠ€æœ¯å¯¹æ¯”</h4><div class="flex space-x-2 my-2"><button data-tech="circuit" class="flex-1 text-sm py-2 rounded-md bg-gray-200 switching-btn active-btn">ç”µè·¯äº¤æ¢</button><button data-tech="packet" class="flex-1 text-sm py-2 rounded-md bg-gray-200 switching-btn">åˆ†ç»„äº¤æ¢</button></div><div id="tech-desc" class="text-sm text-gray-600 p-3 bg-gray-50 rounded-md"><strong class="text-gray-800">åŸç†:</strong> é€šä¿¡å‰å»ºç«‹ä¸€æ¡ä¸“ç”¨çš„ç‰©ç†é€šè·¯ã€‚<br><strong class="text-gray-800">ä¼˜ç‚¹:</strong> æ—¶å»¶å°ã€‚<br><strong class="text-gray-800">ç¼ºç‚¹:</strong> çº¿è·¯åˆ©ç”¨ç‡ä½ã€‚</div></div></div>
                </div>
            </div>
        </section>

        <section id="performance" class="mb-20 scroll-target">
            <h2 class="text-3xl font-bold text-center mb-12">ç½‘ç»œæ€§èƒ½æ¢ç©¶</h2>
            <p class="text-center max-w-3xl mx-auto mb-12 text-gray-600">ç½‘ç»œçš„å¿«æ…¢ä¸ä»…æ˜¯ä¸»è§‚æ„Ÿå—ï¼Œæ›´å¯ç”±ç²¾ç¡®æŒ‡æ ‡è¡¡é‡ã€‚åœ¨æ­¤ï¼Œæ‚¨å¯äº²æ‰‹è®¡ç®—ç½‘ç»œæ—¶å»¶ï¼Œå¹¶è§‚å¯Ÿç½‘ç»œåˆ©ç”¨ç‡å¦‚ä½•å½±å“æ€§èƒ½ï¼Œä»è€Œæ·±å…¥ç†è§£è¿™äº›å…³é”®æŒ‡æ ‡ã€‚</p>
            <div class="grid lg:grid-cols-2 gap-12 items-start">
                <div class="card p-8"><h3 class="text-2xl font-bold mb-6 text-center">æ—¶å»¶è®¡ç®—å™¨</h3><div class="space-y-4"><div><label for="data-size" class="block text-sm font-medium text-gray-700">æ•°æ®é•¿åº¦ (bit)</label><input type="number" id="data-size" value="100000" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500"></div><div><label for="send-rate" class="block text-sm font-medium text-gray-700">å‘é€é€Ÿç‡ (kbit/s)</label><input type="number" id="send-rate" value="100" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500"></div><div><label for="distance" class="block text-sm font-medium text-gray-700">ä¼ è¾“è·ç¦» (km)</label><input type="number" id="distance" value="1000" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500"></div></div><div class="mt-6 pt-6 border-t border-gray-200 space-y-3"><p class="text-lg"><strong>å‘é€æ—¶å»¶:</strong> <span id="send-delay" class="font-mono text-blue-600">1.000 s</span></p><p class="text-lg"><strong>ä¼ æ’­æ—¶å»¶:</strong> <span id="prop-delay" class="font-mono text-green-600">5.000 ms</span></p><p class="text-gray-500 text-sm mt-2">ä¿®æ”¹å‚æ•°ï¼Œè§‚å¯Ÿå‘é€æ—¶å»¶å’Œä¼ æ’­æ—¶å»¶çš„å˜åŒ–ã€‚</p></div></div>
                <div class="card p-8"><h3 class="text-2xl font-bold mb-6 text-center">åˆ©ç”¨ç‡ vs. æ—¶å»¶</h3><div class="chart-container"><canvas id="utilizationChart"></canvas></div><div class="mt-4"><label for="utilization-slider" class="block text-sm font-medium text-gray-700">ç½‘ç»œåˆ©ç”¨ç‡: <span id="utilization-value" class="font-bold">50</span>%</label><input type="range" id="utilization-slider" min="1" max="99" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" style="accent-color: #c88a53;"><p class="text-gray-500 text-sm mt-2">æ‹–åŠ¨æ»‘å—ï¼Œè§‚å¯Ÿç½‘ç»œæ—¶å»¶å¦‚ä½•éšåˆ©ç”¨ç‡æ€¥å‰§å¢åŠ ã€‚</p></div></div>
            </div>
        </section>

        <section id="architecture" class="mb-20 scroll-target">
            <h2 class="text-3xl font-bold text-center mb-12">ç½‘ç»œä½“ç³»ç»“æ„</h2>
            <p class="text-center max-w-3xl mx-auto mb-12 text-gray-600">ä¸ºäº†ç®¡ç†å¤æ‚çš„ç½‘ç»œé€šä¿¡ï¼Œè®¡ç®—æœºç§‘å­¦å®¶è®¾è®¡äº†åˆ†å±‚æ¨¡å‹ã€‚ä»¥ä¸‹æ¨¡å—å°†é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼ï¼Œæ·±å…¥è§£ææ•°æ®å¦‚ä½•åœ¨è¿™ä¸€ç»“æ„ä¸­æµåŠ¨å’Œå°è£…ã€‚</p>
            <div class="space-y-12">
                 <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-center">å®Œæ•´çš„å°è£…ä¸è§£å°è£…è¿‡ç¨‹</h3>
                    <div id="encapsulation-container" class="max-w-5xl mx-auto">
                        <div class="mb-6 text-center">
                            <h4 class="font-bold text-lg">ç¬¬ <span id="encap-step-counter">1</span> æ­¥ / 10</h4>
                            <p id="encap-step-description" class="text-gray-600 mt-1">åº”ç”¨å±‚å‡†å¤‡æ•°æ®</p>
                        </div>
                        <div class="flex justify-between space-x-6">
                            <div class="w-1/2">
                                <h5 class="text-center font-semibold mb-2">å‘é€æ–¹ (Host A)</h5>
                                <div id="encap-sender-stack" class="space-y-2 p-4 bg-gray-50 rounded-lg"></div>
                            </div>
                            <div class="w-1/2">
                                <h5 class="text-center font-semibold mb-2">æ¥æ”¶æ–¹ (Host B)</h5>
                                <div id="encap-receiver-stack" class="space-y-2 p-4 bg-gray-50 rounded-lg"></div>
                            </div>
                        </div>
                        <div class="flex justify-center space-x-4 mt-8">
                            <button id="encap-prev" class="btn">ä¸Šä¸€æ­¥</button>
                            <button id="encap-next" class="btn">ä¸‹ä¸€æ­¥</button>
                        </div>
                    </div>
                 </div>

                 <div class="card p-6">
                    <h3 class="text-2xl font-bold mb-6 text-center">äº”å±‚åè®®ä½“ç³»ç»“æ„</h3>
                    <div id="layers-container" class="border border-gray-200 rounded-lg overflow-hidden"></div>
                 </div>
                 
                 <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-6 text-center">TCP/IP æ²™æ¼æ¨¡å‹</h3>
                    <p class="text-gray-600 text-center mb-6">å½¢è±¡åœ°å±•ç¤ºäº†IPåè®®æ‰¿ä¸Šå¯ä¸‹çš„æ ¸å¿ƒä½œç”¨ï¼šå‘ä¸Šæ”¯æŒå„ç§åº”ç”¨ï¼Œå‘ä¸‹å¯è¿è¡Œäºå„ç§ç½‘ç»œã€‚</p>
                    <div style="width: 120px; height: 240px; position: relative; margin: 0 auto;"><div style="position: absolute; width: 100%; height: 50%; background: #e2d9ce; clip-path: polygon(0 0, 100% 0, 50% 100%); display: flex; align-items: center; justify-content: center; text-align: center; color: #4a4a4a; font-weight: 500;">å„ç§åº”ç”¨<br>(HTTP, SMTP...)</div><div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #c88a53; color: white; padding: 5px 20px; border-radius: 4px; z-index: 10;">IPåè®®</div><div style="position: absolute; bottom: 0; width: 100%; height: 50%; background: #e2d9ce; clip-path: polygon(50% 0, 0 100%, 100% 100%); display: flex; align-items: center; justify-content: center; text-align: center; color: #4a4a4a; font-weight: 500;">å„ç§ç½‘ç»œæ¥å£<br>(Ethernet, Wi-Fi...)</div></div>
                    <div class="text-center mt-6"><p class="font-semibold">"Everything over IP" & "IP over Everything"</p></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-20"><div class="container mx-auto px-6 py-8 text-center"><p>äº¤äº’å¼Webåº”ç”¨ | åŸºäºã€Šè®¡ç®—æœºç½‘ç»œã€‹ç¬¬ä¸€ç« å†…å®¹</p></div></footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const app = {
                layersData: [
                    { name: 'åº”ç”¨å±‚', pdu: 'æŠ¥æ–‡', header: null },
                    { name: 'è¿è¾“å±‚', pdu: 'æŠ¥æ–‡æ®µ', header: 'T-H' },
                    { name: 'ç½‘ç»œå±‚', pdu: 'åˆ†ç»„', header: 'N-H' },
                    { name: 'æ•°æ®é“¾è·¯å±‚', pdu: 'å¸§', header: 'DL-H' },
                    { name: 'ç‰©ç†å±‚', pdu: 'æ¯”ç‰¹', header: null },
                ],

                init() {
                    this.initScrollAnimations();
                    this.initNav();
                    this.initComponentTabs();
                    this.initSwitchingTechs();
                    this.initDelayCalculator();
                    this.initUtilizationChart();
                    this.initArchitectureSection();
                },
                
                initArchitectureSection() {
                    this.initEncapsulationProcess();
                    this.initLayersAccordion();
                },

                initScrollAnimations() {
                    const targets = document.querySelectorAll('.scroll-target');
                    const observer = new IntersectionObserver((entries, observer) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const cards = entry.target.querySelectorAll('.card');
                                cards.forEach((card, index) => {
                                    setTimeout(() => card.classList.add('is-visible'), index * 100);
                                });
                                observer.unobserve(entry.target);
                            }
                        });
                    }, { threshold: 0.1 });
                    targets.forEach(target => observer.observe(target));
                },

                initNav() {
                    const sections = document.querySelectorAll('section');
                    const navLinks = document.querySelectorAll('.nav-link');
                    const mobileMenuButton = document.getElementById('mobile-menu-button');
                    const mobileMenu = document.getElementById('mobile-menu');
                    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

                    window.onscroll = () => {
                        let current = 'welcome';
                        sections.forEach(section => {
                            if (pageYOffset >= section.offsetTop - 80) current = section.id;
                        });
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === current);
                        });
                    };
                    
                    mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
                    mobileNavLinks.forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('hidden')));
                },
                
                initComponentTabs() {
                    const tabContainer = document.querySelector('#components .card .flex.border-b');
                    if (!tabContainer) return;
                    
                    const tabButtons = tabContainer.querySelectorAll('.tab-btn');
                    const tabContents = tabContainer.nextElementSibling.querySelectorAll('.tab-content');

                    tabButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            tabButtons.forEach(btn => btn.classList.remove('active'));
                            button.classList.add('active');
                            tabContents.forEach(content => content.classList.remove('active'));
                            document.getElementById(button.dataset.tab).classList.add('active');
                        });
                    });
                },

                initSwitchingTechs() {
                    const container = document.querySelector('#core');
                    if (!container) return;
                    const switchingBtns = container.querySelectorAll('.switching-btn');
                    const techDesc = container.querySelector('#tech-desc');
                    const techData = {
                        circuit: { desc: '<strong class="text-gray-800">åŸç†:</strong> é€šä¿¡å‰å»ºç«‹ä¸€æ¡ä¸“ç”¨çš„ç‰©ç†é€šè·¯ã€‚<br><strong class="text-gray-800">ä¼˜ç‚¹:</strong> æ—¶å»¶å°ã€‚<br><strong class="text-gray-800">ç¼ºç‚¹:</strong> çº¿è·¯åˆ©ç”¨ç‡ä½ã€‚' },
                        packet: { desc: '<strong class="text-gray-800">åŸç†:</strong> é‡‡ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ï¼Œå°†æŠ¥æ–‡åˆ†å‰²æˆâ€œåˆ†ç»„â€ä¼ è¾“ã€‚<br><strong class="text-gray-800">ä¼˜ç‚¹:</strong> é«˜æ•ˆã€çµæ´»ã€å¯é ã€‚<br><strong class="text-gray-800">ç¼ºç‚¹:</strong> å­˜åœ¨æ’é˜Ÿæ—¶å»¶ã€‚' }
                    };

                    switchingBtns.forEach(btn => {
                        btn.addEventListener('click', () => {
                            switchingBtns.forEach(b => b.classList.remove('active-btn', 'bg-amber-100', 'text-amber-700'));
                            btn.classList.add('active-btn', 'bg-amber-100', 'text-amber-700');
                            techDesc.innerHTML = techData[btn.dataset.tech].desc;
                        });
                    });
                    switchingBtns[0].classList.add('active-btn', 'bg-amber-100', 'text-amber-700');
                },

                initDelayCalculator() {
                    const container = document.querySelector('#performance');
                    if (!container) return;
                    const inputs = {
                        size: container.querySelector('#data-size'),
                        rate: container.querySelector('#send-rate'),
                        dist: container.querySelector('#distance'),
                    };
                    const outputs = {
                        send: container.querySelector('#send-delay'),
                        prop: container.querySelector('#prop-delay'),
                    };

                    const calculate = () => {
                        const dataSize = parseFloat(inputs.size.value) || 0;
                        const sendRate = (parseFloat(inputs.rate.value) * 1000) || 1;
                        const distance = (parseFloat(inputs.dist.value) * 1000) || 0;
                        outputs.send.textContent = `${(dataSize / sendRate).toFixed(3)} s`;
                        outputs.prop.textContent = `${((distance / 2e8) * 1000).toFixed(3)} ms`;
                    };

                    Object.values(inputs).forEach(input => input.addEventListener('input', calculate));
                    calculate();
                },

                initUtilizationChart() {
                    const ctx = document.getElementById('utilizationChart')?.getContext('2d');
                    if (!ctx) return;
                    const slider = document.getElementById('utilization-slider');
                    const valueSpan = document.getElementById('utilization-value');

                    const chart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: Array.from({ length: 100 }, (_, i) => i),
                            datasets: [
                                { label: 'ç›¸å¯¹æ—¶å»¶', data: [], borderColor: '#c88a53', backgroundColor: 'rgba(200, 138, 83, 0.1)', borderWidth: 2, tension: 0.4, fill: true, pointRadius: 0 },
                                { label: 'å½“å‰ç‚¹', data: [], backgroundColor: '#c88a53', pointRadius: 5, pointHoverRadius: 7, type: 'bubble' }
                            ]
                        },
                        options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, title: { display: true, text: 'ç›¸å¯¹æ—¶å»¶' }, max: 10 }, x: { title: { display: true, text: 'ç½‘ç»œåˆ©ç”¨ç‡ (%)' }, ticks: { maxTicksLimit: 10 } } }, plugins: { legend: { display: false }, tooltip: { enabled: false } } }
                    });

                    const update = () => {
                        const uValue = parseInt(slider.value);
                        valueSpan.textContent = uValue;
                        chart.data.datasets[0].data = Array.from({ length: 99 }, (_, i) => 1 / (1 - (i + 1) / 100));
                        const pointData = new Array(99).fill(null);
                        const delayAtU = 1 / (1 - uValue / 100);
                        if (delayAtU <= 10) pointData[uValue - 1] = delayAtU;
                        chart.data.datasets[1].data = pointData;
                        chart.update('none');
                    };
                    slider.addEventListener('input', update);
                    update();
                },

                initEncapsulationProcess() {
                    const container = document.getElementById('encapsulation-container');
                    if (!container) return;
                    const senderStack = container.querySelector('#encap-sender-stack');
                    const receiverStack = container.querySelector('#encap-receiver-stack');
                    const stepCounter = container.querySelector('#encap-step-counter');
                    const stepDesc = container.querySelector('#encap-step-description');
                    const prevBtn = container.querySelector('#encap-prev');
                    const nextBtn = container.querySelector('#encap-next');
                    
                    let currentStep = 0;
                    const totalSteps = (this.layersData.length * 2) -1;

                    const stepDescriptions = [
                        "å‘é€æ–¹ï¼šåº”ç”¨å±‚å‡†å¤‡æ•°æ® (æŠ¥æ–‡)",
                        "å‘é€æ–¹ï¼šè¿è¾“å±‚æ·»åŠ TCPå¤´éƒ¨ (æŠ¥æ–‡æ®µ)",
                        "å‘é€æ–¹ï¼šç½‘ç»œå±‚æ·»åŠ IPå¤´éƒ¨ (åˆ†ç»„)",
                        "å‘é€æ–¹ï¼šæ•°æ®é“¾è·¯å±‚æ·»åŠ å¸§å¤´/å°¾ (å¸§)",
                        "å‘é€æ–¹ï¼šç‰©ç†å±‚å°†å¸§è½¬æ¢ä¸ºæ¯”ç‰¹æµ",
                        "æ¥æ”¶æ–¹ï¼šç‰©ç†å±‚æ¥æ”¶æ¯”ç‰¹æµï¼Œè½¬ä¸ºå¸§",
                        "æ¥æ”¶æ–¹ï¼šæ•°æ®é“¾è·¯å±‚å‰¥ç¦»å¸§å¤´/å°¾ (åˆ†ç»„)",
                        "æ¥æ”¶æ–¹ï¼šç½‘ç»œå±‚å‰¥ç¦»IPå¤´éƒ¨ (æŠ¥æ–‡æ®µ)",
                        "æ¥æ”¶æ–¹ï¼šè¿è¾“å±‚å‰¥ç¦»TCPå¤´éƒ¨ (æŠ¥æ–‡)",
                        "æ¥æ”¶æ–¹ï¼šåº”ç”¨å±‚æ¥æ”¶æ•°æ®"
                    ];

                    const update = () => {
                        senderStack.innerHTML = '';
                        receiverStack.innerHTML = '';

                        const isSending = currentStep < 5;
                        const senderActiveLayer = isSending ? currentStep : -1;
                        const receiverActiveLayer = !isSending ? 9 - currentStep : -1;

                        // Render Sender Stack
                        for (let i = 0; i < 5; i++) {
                            const layer = this.layersData[i];
                            const el = document.createElement('div');
                            el.className = `encap-layer ${i === senderActiveLayer ? 'active' : ''}`;
                            let pduHTML = '&nbsp;';
                            if (isSending && i >= currentStep) {
                                let headers = '';
                                for (let j = 1; j <= i; j++) {
                                    if(this.layersData[j].header) headers += `<div class="pdu-header">${this.layersData[j].header}</div>`;
                                }
                                pduHTML = `<div class="pdu-view">${headers}<div class="pdu-data">æ•°æ®</div></div>`;
                            }
                            el.innerHTML = `<div class="flex justify-between items-center"><span>${layer.name}</span><span class="text-sm text-gray-500">${layer.pdu}</span></div>${i === senderActiveLayer ? pduHTML : ''}`;
                            senderStack.appendChild(el);
                        }

                        // Render Receiver Stack
                        for (let i = 0; i < 5; i++) {
                            const layer = this.layersData[i];
                            const el = document.createElement('div');
                            el.className = `encap-layer ${i === receiverActiveLayer ? 'active' : ''}`;
                            let pduHTML = '&nbsp;';
                            if (!isSending && i <= receiverActiveLayer) {
                                let headers = '';
                                for (let j = 1; j < 5 - i; j++) {
                                     if(this.layersData[j].header) headers += `<div class="pdu-header">${this.layersData[j].header}</div>`;
                                }
                                pduHTML = `<div class="pdu-view">${headers}<div class="pdu-data">æ•°æ®</div></div>`;
                            }
                            el.innerHTML = `<div class="flex justify-between items-center"><span>${layer.name}</span><span class="text-sm text-gray-500">${layer.pdu}</span></div>${i === receiverActiveLayer ? pduHTML : ''}`;
                            receiverStack.appendChild(el);
                        }

                        stepCounter.textContent = currentStep + 1;
                        stepDesc.textContent = stepDescriptions[currentStep];
                        prevBtn.disabled = currentStep === 0;
                        nextBtn.disabled = currentStep === totalSteps;
                    };

                    nextBtn.addEventListener('click', () => {
                        if (currentStep < totalSteps) { currentStep++; update(); }
                    });
                    prevBtn.addEventListener('click', () => {
                        if (currentStep > 0) { currentStep--; update(); }
                    });
                    
                    update();
                },
                
                initLayersAccordion() {
                    const container = document.getElementById('layers-container');
                    if(!container) return;
                    const details = [
                        '<b>ä»»åŠ¡:</b> é€šè¿‡åº”ç”¨è¿›ç¨‹é—´çš„äº¤äº’æ¥å®Œæˆç‰¹å®šç½‘ç»œåº”ç”¨ã€‚',
                        '<b>ä»»åŠ¡:</b> è´Ÿè´£å‘ä¸¤å°ä¸»æœºä¸­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚',
                        '<b>ä»»åŠ¡:</b> ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ï¼Œé€‰æ‹©åˆé€‚çš„è·¯ç”±ã€‚',
                        '<b>ä»»åŠ¡:</b> å°†ç½‘ç»œå±‚äº¤ä¸‹çš„IPæ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ç›¸é‚»ç»“ç‚¹é—´ä¼ è¾“ã€‚',
                        '<b>ä»»åŠ¡:</b> åœ¨ä¼ è¾“åª’ä½“ä¸Šé€æ˜åœ°ä¼ è¾“åŸå§‹çš„æ¯”ç‰¹æµã€‚'
                    ];

                    container.innerHTML = this.layersData.map((layer, i) => `
                        <div class="layer-item">
                            <div class="layer-header flex justify-between items-center">
                                <h4 class="font-bold text-lg">${layer.name} <span class="text-sm font-normal text-gray-500">(${layer.pdu})</span></h4>
                                <span class="text-xl transform transition-transform duration-300">â–¼</span>
                            </div>
                            <div class="layer-content"><p class="text-gray-600">${details[i]}</p></div>
                        </div>`).join('');

                    container.addEventListener('click', (e) => {
                        const header = e.target.closest('.layer-header');
                        if (!header) return;
                        const content = header.nextElementSibling;
                        const isOpen = content.classList.contains('open');
                        container.querySelectorAll('.layer-content').forEach(c => c.classList.remove('open'));
                        container.querySelectorAll('.layer-header span').forEach(s => s.style.transform = 'rotate(0deg)');
                        if (!isOpen) {
                            content.classList.add('open');
                            header.querySelector('span').style.transform = 'rotate(180deg)';
                        }
                    });
                }
            };
            
            app.init();
        });
    </script>
</body>
</html>
