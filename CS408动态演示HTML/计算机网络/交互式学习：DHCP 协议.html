<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼å­¦ä¹ åº”ç”¨ï¼šåŠ¨æ€ä¸»æœºé…ç½®åè®® DHCP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Scholarly Blue -->
    <!-- Application Structure Plan: è¯¥SPAé‡‡ç”¨å¼•å¯¼å¼å•é¡µå¸ƒå±€ï¼Œåˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š1) â€œDHCPæ˜¯ä»€ä¹ˆï¼Ÿâ€ - ç®€ä»‹å…¶ç›®çš„å’ŒåŠŸèƒ½ï¼›2) â€œæ ¸å¿ƒè§’è‰²â€ - ä»‹ç»å®¢æˆ·ç«¯ã€æœåŠ¡å™¨å’Œä¸­ç»§ä»£ç†ï¼›3) â€œäº¤äº’è¿‡ç¨‹åŠ¨ç”»â€ - è¿™æ˜¯åº”ç”¨çš„æ ¸å¿ƒï¼Œé€šè¿‡ä¸€ä¸ªå¯æ§çš„ã€åˆ†æ­¥åŠ¨ç”»æ¥å¯è§†åŒ–DHCPçš„DORAï¼ˆå‘ç°ã€æä¾›ã€è¯·æ±‚ã€ç¡®è®¤ï¼‰è¿‡ç¨‹ä»¥åŠç§Ÿç”¨æœŸç»­è®¢ã€‚ç”¨æˆ·é€šè¿‡ç‚¹å‡»æŒ‰é’®æ¥é©±åŠ¨åŠ¨ç”»ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰æ¸…æ™°çš„æ–‡å­—è§£é‡Šï¼Œå°†æŠ½è±¡çš„åè®®äº¤æ¢è¿‡ç¨‹å…·ä½“åŒ–ï¼Œä»è€Œè¾¾åˆ°æœ€ä½³çš„å­¦ä¹ æ•ˆæœã€‚ -->
    <!-- Visualization & Content Choices: 1. ç®€ä»‹ä¸è§’è‰²(Goal: Inform): ä½¿ç”¨å¸¦æœ‰å›¾æ ‡çš„å¡ç‰‡å¼å¸ƒå±€æ¸…æ™°åœ°å‘ˆç°DHCPçš„ç”¨é€”ã€é…ç½®é¡¹ç›®ä»¥åŠä¸‰ä¸ªæ ¸å¿ƒè§’è‰²ã€‚2. DHCPäº¤äº’è¿‡ç¨‹(Goal: Change/Organize): ä½¿ç”¨HTML/CSS/JSæ„å»ºä¸€ä¸ªäº¤äº’å¼åŠ¨ç”»èˆå°ã€‚å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç­‰èŠ‚ç‚¹ç”¨divè¡¨ç¤ºï¼ŒDHCPæŠ¥æ–‡ä¹Ÿç”¨divè¡¨ç¤ºã€‚JSå°†æ§åˆ¶æŠ¥æ–‡çš„ç§»åŠ¨ã€æ˜¾éšï¼Œå¹¶åŒæ­¥æ›´æ–°çŠ¶æ€é¢æ¿ä¸­çš„è§£é‡Šæ–‡æœ¬ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå°†è¯¾æœ¬ä¸­[å›¾6-20]çš„é™æ€æµç¨‹å›¾è½¬åŒ–ä¸ºä¸€ä¸ªåŠ¨æ€ã€å¯äº¤äº’çš„å­¦ä¹ ä½“éªŒã€‚3. æŠ¥æ–‡ç±»å‹(Goal: Inform): ä½¿ç”¨ä¸åŒé¢œè‰²å’Œå›¾æ ‡åŒºåˆ†å¹¿æ’­(Broadcast)å’Œå•æ’­(Unicast)æŠ¥æ–‡ï¼Œå¢å¼ºè§†è§‰è¾¨è¯†åº¦ã€‚(CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.) -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f1f5f9; /* slate-100 */
            color: #334155; /* slate-700 */
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .dhcp-node {
            border: 2px solid #94a3b8; /* slate-400 */
            background-color: #f8fafc; /* slate-50 */
            min-height: 100px;
        }
        .dhcp-packet {
            position: absolute;
            opacity: 0;
            transition: all 0.8s ease-in-out;
            transform: scale(0.8);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            white-space: nowrap;
        }
        .discover { background-color: #ef4444; } /* red-500 */
        .offer { background-color: #3b82f6; } /* blue-500 */
        .request { background-color: #f97316; } /* orange-500 */
        .ack { background-color: #16a34a; } /* green-600 */
        .nack { background-color: #b91c1c; } /* red-700 */
        .release { background-color: #475569; } /* slate-600 */
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800">äº¤äº’å¼å­¦ä¹ ï¼šDHCP åè®®</h1>
            <p class="mt-4 text-lg text-slate-500">ç†è§£ç½‘ç»œä¸­çš„â€œå³æ’å³ç”¨â€æ˜¯å¦‚ä½•å®ç°çš„</p>
        </header>

        <!-- Section 1: What is DHCP? -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-slate-700 text-center mb-8">DHCP æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card p-6">
                    <h3 class="text-xl font-bold mb-3 text-sky-700">ğŸ¯ è§£å†³çš„é—®é¢˜</h3>
                    <p class="text-slate-600">æ‰‹åŠ¨ä¸ºç½‘ç»œä¸­çš„æ¯ä¸€å°è®¾å¤‡é…ç½®IPåœ°å€ã€å­ç½‘æ©ç ç­‰ä¿¡æ¯ï¼Œä¸ä»…ç¹çä¸”ææ˜“å‡ºé”™ã€‚DHCPï¼ˆåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰è¢«è®¾è®¡ç”¨æ¥è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œå®ç°çœŸæ­£çš„â€œå³æ’å³ç”¨â€è¿ç½‘ã€‚</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-bold mb-3 text-sky-700">ğŸ“‹ è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒé¡¹ç›®</h3>
                    <ul class="list-disc list-inside space-y-2 text-slate-600">
                        <li>IP åœ°å€</li>
                        <li>å­ç½‘æ©ç </li>
                        <li>é»˜è®¤è·¯ç”±å™¨çš„IPåœ°å€ï¼ˆç½‘å…³ï¼‰</li>
                        <li>åŸŸåæœåŠ¡å™¨ï¼ˆDNSï¼‰çš„IPåœ°å€</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 2: Core Roles -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-slate-700 text-center mb-8">æ ¸å¿ƒè§’è‰²</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="card p-6 text-center">
                    <div class="text-5xl mb-4">ğŸ’»</div>
                    <h3 class="text-xl font-bold mb-2">DHCP å®¢æˆ·ç«¯</h3>
                    <p class="text-slate-600">ä»»ä½•éœ€è¦æ¥å…¥ç½‘ç»œå¹¶è·å–é…ç½®ä¿¡æ¯çš„ä¸»æœºï¼ˆå¦‚ä½ çš„ç”µè„‘ã€æ‰‹æœºï¼‰ã€‚</p>
                </div>
                <div class="card p-6 text-center">
                     <div class="text-5xl mb-4">ğŸ—„ï¸</div>
                    <h3 class="text-xl font-bold mb-2">DHCP æœåŠ¡å™¨</h3>
                    <p class="text-slate-600">ç®¡ç†ä¸€ä¸ªIPåœ°å€æ± ï¼Œå¹¶å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¸ºå…¶åˆ†é…IPåœ°å€å’Œé…ç½®ä¿¡æ¯ã€‚</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="text-5xl mb-4">ğŸ”</div>
                    <h3 class="text-xl font-bold mb-2">DHCP ä¸­ç»§ä»£ç†</h3>
                    <p class="text-slate-600">é€šå¸¸æ˜¯è·¯ç”±å™¨ï¼Œè´Ÿè´£å°†ä¸€ä¸ªç½‘ç»œå†…çš„DHCPå¹¿æ’­è¯·æ±‚ï¼Œè½¬å‘ç»™å¦ä¸€ä¸ªç½‘ç»œä¸­çš„DHCPæœåŠ¡å™¨ã€‚</p>
                </div>
            </div>
        </section>
        
        <!-- Section 3: Interactive Process -->
        <section>
            <h2 class="text-3xl font-bold text-slate-700 text-center mb-2">äº¤äº’è¿‡ç¨‹åŠ¨ç”»</h2>
            <p class="text-center text-slate-500 mb-8">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œä¸€æ­¥æ­¥è§‚å¯ŸDHCPæ˜¯å¦‚ä½•ä¸ºä¸€å°æ–°è®¾å¤‡åˆ†é…IPåœ°å€çš„ã€‚</p>
            
            <div class="card p-6 md:p-8">
                <!-- Animation Stage -->
                <div class="relative mb-8 p-4 border border-dashed border-slate-300 rounded-lg" style="height: 350px;">
                    <div class="absolute top-1/2 left-8 -translate-y-1/2 text-center w-32">
                        <div class="text-6xl">ğŸ’»</div>
                        <div class="font-bold mt-2">å®¢æˆ·ç«¯</div>
                        <div id="client-status" class="text-sm text-slate-500 transition-colors">IP: æœªåˆ†é…</div>
                    </div>
                    
                    <div class="absolute top-1/2 right-8 -translate-y-1/2 text-center w-32">
                        <div class="text-6xl">ğŸ—„ï¸</div>
                        <div class="font-bold mt-2">æœåŠ¡å™¨</div>
                        <div id="server-status" class="text-sm text-slate-500">ç©ºé—²</div>
                    </div>

                    <div id="packet-discover" class="dhcp-packet discover" style="top: 150px; left: 150px;">ğŸ“¡ DHCPDISCOVER</div>
                    <div id="packet-offer" class="dhcp-packet offer" style="top: 150px; left: calc(100% - 300px);">ğŸ“¡ DHCPOFFER</div>
                    <div id="packet-request" class="dhcp-packet request" style="top: 150px; left: 150px;">ğŸ“¡ DHCPREQUEST</div>
                    <div id="packet-ack" class="dhcp-packet ack" style="top: 150px; left: calc(100% - 300px);">ğŸ“¡ DHCPACK</div>
                    <div id="packet-renew-request" class="dhcp-packet request" style="top: 150px; left: 150px;">â¡ï¸ DHCPREQUEST</div>
                    <div id="packet-renew-ack" class="dhcp-packet ack" style="top: 150px; left: calc(100% - 300px);">â¡ï¸ DHCPACK</div>
                </div>

                <!-- Controls and Explanation -->
                <div class="text-center mb-6">
                    <button id="start-dhcp" class="py-2 px-6 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 transition-all">å¼€å§‹æ¼”ç¤º</button>
                    <button id="reset-dhcp" class="ml-4 py-2 px-6 bg-slate-500 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75 transition-all">é‡ç½®</button>
                </div>
                
                <div id="explanation-box" class="min-h-[4rem] p-4 bg-sky-50 text-sky-800 border-l-4 border-sky-500 rounded-r-lg transition-all">
                    <p id="explanation-text" class="font-medium">å‡†å¤‡å°±ç»ªã€‚</p>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startBtn = document.getElementById('start-dhcp');
            const resetBtn = document.getElementById('reset-dhcp');
            const explanationText = document.getElementById('explanation-text');
            const clientStatus = document.getElementById('client-status');
            const serverStatus = document.getElementById('server-status');
            
            const packets = {
                discover: document.getElementById('packet-discover'),
                offer: document.getElementById('packet-offer'),
                request: document.getElementById('packet-request'),
                ack: document.getElementById('packet-ack'),
                renewRequest: document.getElementById('packet-renew-request'),
                renewAck: document.getElementById('packet-renew-ack'),
            };

            let animationTimeout;
            let currentStep = 0;

            const steps = [
                {
                    action: () => {
                        explanationText.textContent = "1. å‘ç°é˜¶æ®µ (Discover): å®¢æˆ·ç«¯å¯åŠ¨ï¼Œå¹¿æ’­å‘é€DHCPDISCOVERæŠ¥æ–‡ï¼Œå¯»æ‰¾ç½‘ç»œä¸­çš„DHCPæœåŠ¡å™¨ã€‚";
                        clientStatus.textContent = "æ­£åœ¨å‘ç°...";
                        animatePacket(packets.discover, 'broadcast');
                    },
                    duration: 2000
                },
                {
                    action: () => {
                        explanationText.textContent = "2. æä¾›é˜¶æ®µ (Offer): æœåŠ¡å™¨æ”¶åˆ°å‘ç°æŠ¥æ–‡ï¼Œä»åœ°å€æ± ä¸­é€‰æ‹©ä¸€ä¸ªIPï¼Œé€šè¿‡DHCPOFFERæŠ¥æ–‡å¹¿æ’­æä¾›ç»™å®¢æˆ·ç«¯ã€‚";
                        serverStatus.textContent = "æ­£åœ¨æä¾›...";
                        animatePacket(packets.offer, 'broadcast-back');
                    },
                    duration: 2000
                },
                {
                    action: () => {
                        explanationText.textContent = "3. è¯·æ±‚é˜¶æ®µ (Request): å®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªOfferï¼Œå¹¿æ’­DHCPREQUESTæŠ¥æ–‡ï¼Œæ­£å¼è¯·æ±‚è¯¥IPåœ°å€ã€‚";
                        clientStatus.textContent = "æ­£åœ¨è¯·æ±‚...";
                        animatePacket(packets.request, 'broadcast');
                    },
                    duration: 2000
                },
                {
                    action: () => {
                        explanationText.textContent = "4. ç¡®è®¤é˜¶æ®µ (Acknowledge): æœåŠ¡å™¨å‘é€DHCPACKæŠ¥æ–‡ï¼Œç¡®è®¤å°†IPåœ°å€åˆ†é…ç»™å®¢æˆ·ç«¯ã€‚";
                        serverStatus.textContent = "æ­£åœ¨ç¡®è®¤...";
                        animatePacket(packets.ack, 'broadcast-back');
                    },
                    duration: 2000
                },
                {
                    action: () => {
                        clientStatus.textContent = "IP: 192.168.1.100 (å·²ç»‘å®š)";
                        clientStatus.classList.add('text-green-600', 'font-bold');
                        serverStatus.textContent = "ç©ºé—²";
                        explanationText.textContent = "é…ç½®å®Œæˆï¼å®¢æˆ·ç«¯è·å¾—IPåœ°å€ï¼Œç§Ÿç”¨æœŸå¼€å§‹è®¡æ—¶ã€‚";
                    },
                    duration: 2500
                },
                {
                    action: () => {
                        explanationText.textContent = "5. ç§Ÿç”¨æœŸç»­è®¢: ç§Ÿç”¨æœŸè¿‡åŠï¼Œå®¢æˆ·ç«¯ä»¥å•æ’­æ–¹å¼å‘æœåŠ¡å™¨å‘é€DHCPREQUESTè¯·æ±‚ç»­è®¢ã€‚";
                        clientStatus.textContent = "æ­£åœ¨ç»­è®¢...";
                        animatePacket(packets.renewRequest, 'unicast');
                    },
                    duration: 2000
                },
                {
                    action: () => {
                        explanationText.textContent = "6. ç»­è®¢ç¡®è®¤: æœåŠ¡å™¨å“åº”DHCPACKï¼ŒåŒæ„ç»­è®¢ï¼Œå®¢æˆ·ç«¯åˆ·æ–°ç§Ÿç”¨æœŸã€‚";
                        serverStatus.textContent = "æ­£åœ¨ç¡®è®¤ç»­è®¢...";
                        animatePacket(packets.renewAck, 'unicast-back');
                    },
                    duration: 2000
                },
                 {
                    action: () => {
                        clientStatus.textContent = "IP: 192.168.1.100 (å·²ç»­è®¢)";
                        serverStatus.textContent = "ç©ºé—²";
                        explanationText.textContent = "æ¼”ç¤ºç»“æŸã€‚ç‚¹å‡»â€œé‡ç½®â€å¯å†æ¬¡è§‚çœ‹ã€‚";
                        startBtn.disabled = false;
                    },
                    duration: 0
                }
            ];

            function animatePacket(packet, type) {
                if (type === 'broadcast') {
                    packet.style.opacity = '1';
                    packet.style.transform = 'translateX(calc(50vw - 250px)) scale(1)';
                } else if (type === 'broadcast-back') {
                     packet.style.opacity = '1';
                    packet.style.transform = 'translateX(calc(-50vw + 250px)) scale(1)';
                } else if (type === 'unicast') {
                    packet.style.opacity = '1';
                    packet.style.transform = `translateX(calc(100% - 150px)) scale(1)`;
                    packet.style.left = '150px';
                } else if (type === 'unicast-back') {
                    packet.style.opacity = '1';
                    packet.style.transform = `translateX(calc(-100% + 150px)) scale(1)`;
                    packet.style.left = 'calc(100% - 150px)';
                }

                setTimeout(() => {
                    packet.style.opacity = '0';
                    packet.style.transform = 'scale(0.8)';
                }, 1500);
            }
            
            function runStep() {
                if (currentStep < steps.length) {
                    steps[currentStep].action();
                    if (steps[currentStep].duration > 0) {
                        animationTimeout = setTimeout(runStep, steps[currentStep].duration);
                    }
                    currentStep++;
                }
            }

            function startAnimation() {
                resetAnimation();
                startBtn.disabled = true;
                currentStep = 0;
                runStep();
            }

            function resetAnimation() {
                clearTimeout(animationTimeout);
                startBtn.disabled = false;
                currentStep = 0;
                
                explanationText.textContent = 'å‡†å¤‡å°±ç»ªã€‚';
                clientStatus.textContent = 'IP: æœªåˆ†é…';
                serverStatus.textContent = 'ç©ºé—²';
                clientStatus.classList.remove('text-green-600', 'font-bold');

                Object.values(packets).forEach(p => {
                    p.style.opacity = '0';
                    p.style.transform = 'scale(0.8)';
                    // Reset positions for next run
                    setTimeout(() => {
                        p.style.transition = 'none';
                        p.style.transform = '';
                        setTimeout(() => { p.style.transition = 'all 0.8s ease-in-out'; }, 50);
                    }, 800);
                });
            }

            startBtn.addEventListener('click', startAnimation);
            resetBtn.addEventListener('click', resetAnimation);
        });
    </script>
</body>
</html>
