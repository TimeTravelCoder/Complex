<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCP æ‹¥å¡æ§åˆ¶äº¤äº’å¼è§£è¯» (ä¼˜åŒ–ç‰ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: æœ¬åº”ç”¨é‡‡ç”¨å•é¡µå¤šåŒºåŸŸçš„ç»“æ„ï¼Œé€šè¿‡é¡¶éƒ¨å¯¼èˆªæ å®ç°å¹³æ»‘æ»šåŠ¨å®šä½ã€‚ç»“æ„ä¾æ¬¡ä¸ºï¼š1. ä»‹ç»åŒºåŸŸï¼Œç”¨å¯¹æ¯”å’Œå›¾è¡¨å®è§‚è§£é‡Šæ‹¥å¡æ§åˆ¶ã€‚2. æ ¸å¿ƒç®—æ³•åŒºåŸŸï¼Œä½¿ç”¨é€‰é¡¹å¡æ¸…æ™°åœ°åˆ†ç¦»è®²è§£å››ç§ç®—æ³•ã€‚3. äº¤äº’å¼æ¨¡æ‹ŸåŒºåŸŸï¼Œè¿™æ˜¯åº”ç”¨çš„æ ¸å¿ƒï¼Œé€šè¿‡å›¾è¡¨å’Œç”¨æˆ·æ§åˆ¶çš„æŒ‰é’®ï¼Œå°†æŠ½è±¡çš„æ‹¥å¡çª—å£ï¼ˆcwndï¼‰å˜åŒ–è¿‡ç¨‹åŠ¨æ€åŒ–ã€æ¸¸æˆåŒ–ï¼Œè®©ç”¨æˆ·äº²æ‰‹è§¦å‘ä¸åŒç½‘ç»œäº‹ä»¶ï¼ˆå¦‚è¶…æ—¶ã€ä¸¢åŒ…ï¼‰ï¼Œè§‚å¯ŸTCPçš„åº”å¯¹ç­–ç•¥ï¼Œä»è€Œå°†ç†è®ºä¸å®è·µç›¸ç»“åˆã€‚4. AQMåŒºåŸŸï¼Œä½œä¸ºè¡¥å……çŸ¥è¯†ç‚¹ã€‚è¿™ä¸ªç»“æ„éµå¾ªäº†ä»ç†è®ºåˆ°å®è·µï¼Œä»å®è§‚åˆ°å¾®è§‚çš„è®¤çŸ¥è§„å¾‹ï¼Œæ—¨åœ¨æœ€å¤§åŒ–ç”¨æˆ·çš„ç†è§£å’Œå­¦ä¹ æ•ˆç‡ã€‚ -->
    <!-- Visualization & Content Choices: 1. ååé‡-è´Ÿè½½å…³ç³»å›¾ï¼š[Goal: Inform] [Viz: Chart.js Line Chart] [Interaction: Tooltips] [Justification: ç›´è§‚å±•ç¤ºæ‹¥å¡çš„å®è§‚å½±å“ï¼Œæ¯”é™æ€å›¾ç‰‡æ›´å…·æ¢ç´¢æ€§]ã€‚2. æ ¸å¿ƒç®—æ³•å›¾è§£ï¼š[Goal: Organize] [Viz: HTML/CSS Flexbox Diagram] [Interaction: None] [Justification: ç”¨ç»“æ„åŒ–çš„HTMLä»£æ›¿é™æ€å›¾ç‰‡ï¼Œæ›´æ˜“äºç»´æŠ¤ä¸”å“åº”å¼æ›´å¥½]ã€‚3. cwndå˜åŒ–æ¨¡æ‹Ÿå›¾ï¼š[Goal: Demonstrate Change] [Viz: Chart.js Dynamic Line Chart] [Interaction: Buttons (Next, Reset, Trigger Events)] [Justification: å°†ç¬”è®°ä¸­æœ€æ ¸å¿ƒã€æœ€å¤æ‚çš„å›¾5.25åŠ¨æ€åŒ–ï¼Œæ˜¯ç†è§£ç®—æ³•åä½œçš„å…³é”®ï¼Œäº¤äº’æ€§å¼ºï¼Œå­¦ä¹ æ•ˆæœæœ€å¥½]ã€‚æ‰€æœ‰å›¾è¡¨å‡ä½¿ç”¨Canvasæ¸²æŸ“ï¼Œæ— SVG/Mermaidã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f7f9fc;
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 45vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .tab-btn {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        .tab-btn.active {
            border-color: #3b82f6;
            color: #3b82f6;
            font-weight: 600;
        }
        .smooth-scroll {
            scroll-behavior: smooth;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);
        }
        .icon {
            font-size: 1.5rem;
            margin-right: 0.75rem;
            color: #3b82f6;
        }
        .tech-term {
            font-family: monospace;
            color: #5b21b6;
            background-color: #f5f3ff;
            padding: 0.1rem 0.4rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
        }
    </style>
</head>
<body class="smooth-scroll">

    <header class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-blue-600">TCP æ‹¥å¡æ§åˆ¶</h1>
            <div class="hidden md:flex items-center space-x-8 text-lg">
                <a href="#intro" class="text-gray-700 hover:text-blue-600 transition duration-300">åŸºæœ¬åŸç†</a>
                <a href="#algorithms" class="text-gray-700 hover:text-blue-600 transition duration-300">æ ¸å¿ƒç®—æ³•</a>
                <a href="#customization" class="text-gray-700 hover:text-blue-600 transition duration-300">å‚æ•°è‡ªå®šä¹‰</a>
                <a href="#simulation" class="text-gray-700 hover:text-blue-600 transition duration-300">äº¤äº’æ¨¡æ‹Ÿ</a>
                <a href="#aqm" class="text-gray-700 hover:text-blue-600 transition duration-300">é˜Ÿåˆ—ç®¡ç†</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-16">

        <section id="intro" class="mb-24 text-center">
            <h2 class="text-4xl font-bold mb-6 flex items-center justify-center"><span class="icon">ğŸ“–</span>åŸºæœ¬åŸç†</h2>
            <p class="max-w-3xl mx-auto text-xl text-gray-600 mb-16 leading-relaxed">
                æ‹¥å¡æ§åˆ¶æ˜¯è®¡ç®—æœºç½‘ç»œä¸­çš„å…³é”®æœºåˆ¶ï¼Œæ—¨åœ¨é˜²æ­¢å› å‘ç½‘ç»œæ³¨å…¥è¿‡å¤šæ•°æ®è€Œå¯¼è‡´è·¯ç”±å™¨æˆ–é“¾è·¯è¿‡è½½ï¼Œä»è€Œç»´æŒç½‘ç»œæ€§èƒ½çš„ç¨³å®šã€‚
            </p>
            <div class="grid md:grid-cols-2 gap-10 items-center text-left">
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-4 text-blue-600">æ‹¥å¡æ§åˆ¶ vs æµé‡æ§åˆ¶</h3>
                    <p class="mb-3 text-lg"><strong>æ‹¥å¡æ§åˆ¶</strong></p>
                    <p class="text-gray-600 mb-6 text-base leading-relaxed">æ˜¯ä¸€ä¸ª<strong class="text-red-500 font-semibold">å…¨å±€æ€§</strong>çš„è¿‡ç¨‹ï¼Œå…³æ³¨æ•´ä¸ªç½‘ç»œçš„è´Ÿè½½æƒ…å†µï¼Œé˜²æ­¢ç½‘ç»œæ•´ä½“å´©æºƒã€‚å®ƒåŠ¨æ€åœ°è°ƒèŠ‚å‘é€é€Ÿç‡ä»¥é€‚åº”ç½‘ç»œå½“å‰çš„æ‰¿è½½èƒ½åŠ›ã€‚</p>
                    <p class="mb-3 text-lg"><strong>æµé‡æ§åˆ¶</strong></p>
                    <p class="text-gray-600 text-base leading-relaxed">æ˜¯ä¸€ä¸ª<strong class="text-green-500 font-semibold">ç«¯åˆ°ç«¯</strong>çš„é—®é¢˜ï¼Œç¡®ä¿å‘é€æ–¹çš„é€Ÿç‡ä¸ä¼šå‹å®æ¥æ”¶æ–¹ã€‚å®ƒåªå…³å¿ƒé€šä¿¡åŒæ–¹çš„å¤„ç†èƒ½åŠ›ã€‚</p>
                </div>
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-4">ç½‘ç»œæ€§èƒ½çš„ç†æƒ³ä¸ç°å®</h3>
                     <p class="text-base text-gray-500 mb-4">æ­¤å›¾è¡¨ç›´è§‚å±•ç¤ºäº†æ‹¥å¡æ§åˆ¶çš„ä½œç”¨ã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œååé‡éšè´Ÿè½½çº¿æ€§å¢é•¿åè¾¾åˆ°é¥±å’Œã€‚ä½†ç°å®ä¸­ï¼Œè‹¥æ— æ‹¥å¡æ§åˆ¶ï¼Œç½‘ç»œååé‡ä¼šåœ¨è¾¾åˆ°å³°å€¼åæ€¥å‰§ä¸‹é™ã€‚</p>
                    <div class="chart-container">
                        <canvas id="throughputChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="algorithms" class="mb-24">
            <h2 class="text-4xl font-bold mb-12 text-center flex items-center justify-center"><span class="icon">âš™ï¸</span>å››å¤§æ ¸å¿ƒç®—æ³•</h2>
            <div class="max-w-4xl mx-auto card p-8 md:p-10">
                <div class="flex border-b-2 border-gray-200 mb-8">
                    <button class="tab-btn flex-1 pb-3 text-lg" data-tab="slow-start">æ…¢å¼€å§‹</button>
                    <button class="tab-btn flex-1 pb-3 text-lg" data-tab="congestion-avoidance">æ‹¥å¡é¿å…</button>
                    <button class="tab-btn flex-1 pb-3 text-lg" data-tab="fast-retransmit">å¿«é‡ä¼ </button>
                    <button class="tab-btn flex-1 pb-3 text-lg" data-tab="fast-recovery">å¿«æ¢å¤</button>
                </div>
                <div id="tab-content" class="min-h-[150px]">
                    <div class="tab-pane" data-tab-content="slow-start">
                        <h3 class="text-2xl font-bold mb-3">æ…¢å¼€å§‹ (Slow Start)</h3>
                        <p class="text-gray-700 text-base leading-relaxed"><strong>ç›®çš„ï¼š</strong>åœ¨è¿æ¥åˆæœŸæ¢æµ‹ç½‘ç»œå¸¦å®½ï¼Œé¿å…ä¸€å¼€å§‹å°±å‘é€å¤§é‡æ•°æ®å¯¼è‡´æ‹¥å¡ã€‚</p>
                        <p class="text-gray-700 mt-2 text-base leading-relaxed"><strong>è§„åˆ™ï¼š</strong>æ‹¥å¡çª—å£ <span class="tech-term">cwnd</span> åˆå§‹å€¼å¾ˆå°ã€‚æ¯æ”¶åˆ°ä¸€ä¸ªæ–°ç¡®è®¤ï¼Œ<span class="tech-term">cwnd</span> å°±å¢åŠ ä¸€ä¸ªMSSã€‚æ•ˆæœæ˜¯æ¯ç»è¿‡ä¸€ä¸ªRTTï¼Œ<span class="tech-term">cwnd</span> çš„å¤§å°å°±<strong>ç¿»å€</strong>ï¼Œå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</p>
                    </div>
                    <div class="tab-pane hidden" data-tab-content="congestion-avoidance">
                        <h3 class="text-2xl font-bold mb-3">æ‹¥å¡é¿å… (Congestion Avoidance)</h3>
                        <p class="text-gray-700 text-base leading-relaxed"><strong>ç›®çš„ï¼š</strong>å½“ <span class="tech-term">cwnd</span> è¾¾åˆ°æ…¢å¼€å§‹é—¨é™ <span class="tech-term">ssthresh</span> åï¼Œé‡‡ç”¨æ›´æ¸©å’Œçš„æ–¹å¼å¢åŠ çª—å£ä»¥é¿å…æ‹¥å¡ã€‚</p>
                        <p class="text-gray-700 mt-2 text-base leading-relaxed"><strong>è§„åˆ™ï¼š</strong>æ¯ç»è¿‡ä¸€ä¸ªRTTï¼Œ<span class="tech-term">cwnd</span> <strong>å¢åŠ 1</strong>ã€‚è¿™ç§çº¿æ€§çš„å¢é•¿æ–¹å¼è¢«ç§°ä¸º<strong>â€œåŠ æ³•å¢å¤§â€</strong>ã€‚</p>
                    </div>
                    <div class="tab-pane hidden" data-tab-content="fast-retransmit">
                        <h3 class="text-2xl font-bold mb-3">å¿«é‡ä¼  (Fast Retransmit)</h3>
                        <p class="text-gray-700 text-base leading-relaxed"><strong>ç›®çš„ï¼š</strong>è®©å‘é€æ–¹å°½æ—©çŸ¥é“ä¸ªåˆ«æŠ¥æ–‡æ®µçš„ä¸¢å¤±ï¼Œè€Œä¸ç”¨ç­‰å¾…è¶…æ—¶ã€‚</p>
                        <p class="text-gray-700 mt-2 text-base leading-relaxed"><strong>è§¦å‘ï¼š</strong>å½“å‘é€æ–¹è¿ç»­æ”¶åˆ°<strong>3ä¸ªé‡å¤çš„ç¡®è®¤</strong>æ—¶ï¼Œå°±è®¤ä¸ºä¸€ä¸ªæŠ¥æ–‡æ®µå·²ä¸¢å¤±ï¼Œå¹¶ç«‹å³é‡ä¼ ã€‚</p>
                    </div>
                    <div class="tab-pane hidden" data-tab-content="fast-recovery">
                        <h3 class="text-2xl font-bold mb-3">å¿«æ¢å¤ (Fast Recovery)</h3>
                        <p class="text-gray-700 text-base leading-relaxed"><strong>ç›®çš„ï¼š</strong>åœ¨æ‰§è¡Œå¿«é‡ä¼ åï¼Œé€‚åº¦å‡å°çª—å£å¹¶ç»§ç»­ä¼ è¾“ï¼Œé¿å…å°† <span class="tech-term">cwnd</span> é™ä¸º1ã€‚</p>
                        <p class="text-gray-700 mt-2 text-base leading-relaxed"><strong>è§„åˆ™ï¼š</strong>å°† <span class="tech-term">ssthresh</span> å‡ä¸ºå½“å‰ <span class="tech-term">cwnd</span> çš„ä¸€åŠï¼Œç„¶åå°† <span class="tech-term">cwnd</span> ä¹Ÿè®¾ä¸ºæ–°çš„ <span class="tech-term">ssthresh</span> å€¼ï¼Œå¹¶è¿›å…¥æ‹¥å¡é¿å…é˜¶æ®µã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<strong>â€œä¹˜æ³•å‡å°â€</strong>ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="customization" class="mb-24">
            <h2 class="text-4xl font-bold mb-6 text-center flex items-center justify-center"><span class="icon">ğŸ”§</span>å‚æ•°è‡ªå®šä¹‰</h2>
            <p class="max-w-3xl mx-auto text-xl text-gray-600 mb-12 text-center leading-relaxed">
                åœ¨å¼€å§‹æ¨¡æ‹Ÿå‰ï¼Œæ‚¨å¯ä»¥è°ƒæ•´åˆå§‹çš„æ…¢å¼€å§‹é—¨é™ï¼Œè§‚å¯Ÿå®ƒå¦‚ä½•å½±å“ç®—æ³•çš„è¡Œä¸ºã€‚
            </p>
            <div class="max-w-lg mx-auto card p-8">
                <div>
                    <label for="initial-ssthresh" class="block text-lg font-medium text-gray-800">åˆå§‹æ…¢å¼€å§‹é—¨é™ (ssthresh)</label>
                    <p class="text-sm text-gray-500 mt-1 mb-3">è¿™ä¸ªå€¼å†³å®šäº†â€œæ…¢å¼€å§‹â€é˜¶æ®µä½•æ—¶ç»“æŸï¼Œå¹¶åˆ‡æ¢åˆ°â€œæ‹¥å¡é¿å…â€é˜¶æ®µã€‚</p>
                    <input type="number" id="initial-ssthresh" value="16" min="2" class="mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <p class="text-xs text-gray-500 mt-4 text-center">ä¿®æ”¹åï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹æ¨¡æ‹Ÿå™¨ä¸­çš„â€œé‡ç½®æ¨¡æ‹Ÿâ€æŒ‰é’®ä»¥åº”ç”¨æ–°è®¾ç½®ã€‚</p>
            </div>
        </section>

        <section id="simulation" class="mb-24">
            <h2 class="text-4xl font-bold mb-6 text-center flex items-center justify-center"><span class="icon">ğŸ“ˆ</span>äº¤äº’å¼æ¨¡æ‹Ÿ</h2>
            <p class="max-w-3xl mx-auto text-xl text-gray-600 mb-12 text-center leading-relaxed">
                äº²æ‰‹æ“ä½œï¼Œè§‚å¯ŸTCPæ‹¥å¡çª—å£å¦‚ä½•æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´ã€‚ç‚¹å‡»æŒ‰é’®ï¼Œè§¦å‘ä¸åŒç½‘ç»œäº‹ä»¶ï¼Œçœ‹çœ‹TCPæ˜¯å¦‚ä½•æ™ºèƒ½åº”å¯¹çš„ã€‚
            </p>

            <div class="card p-6 md:p-8">
                <div class="chart-container mb-8">
                    <canvas id="congestionChart"></canvas>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                    <div class="lg:col-span-1 space-y-4">
                        <h4 class="text-xl font-bold text-center">æ§åˆ¶é¢æ¿</h4>
                        <button id="nextStepBtn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 shadow-md">ä¸‹ä¸€æ­¥ (ä¼ è¾“è½®æ¬¡)</button>
                        <button id="simulateLossBtn" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 shadow-md">æ¨¡æ‹Ÿä¸¢åŒ… (3ä¸ªé‡å¤ACK)</button>
                        <button id="simulateTimeoutBtn" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 shadow-md">æ¨¡æ‹Ÿè¶…æ—¶ (ç½‘ç»œæ‹¥å¡)</button>
                        <button id="resetBtn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 shadow-md">é‡ç½®æ¨¡æ‹Ÿ</button>
                    </div>
                    <div class="lg:col-span-2 bg-blue-50/50 p-6 rounded-lg border border-blue-200 min-h-[180px]">
                        <h4 class="text-xl font-bold mb-3 text-blue-800">çŠ¶æ€è§£è¯»</h4>
                        <div id="statusText" class="text-gray-800 space-y-2 text-base"></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="aqm" class="mb-12">
            <h2 class="text-4xl font-bold mb-12 text-center flex items-center justify-center"><span class="icon">ğŸš¦</span>ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† (AQM)</h2>
            <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-10 items-center">
                <div class="text-gray-700 leading-relaxed text-base">
                    <p class="mb-4">ä¼ ç»Ÿçš„è·¯ç”±å™¨ä¸¢å¼ƒç­–ç•¥æ˜¯â€œå°¾éƒ¨ä¸¢å¼ƒâ€ï¼Œå³é˜Ÿåˆ—æ»¡äº†å°±ä¸¢å¼ƒæ–°æ¥çš„åˆ†ç»„ã€‚è¿™ä¼šå¯¼è‡´å¤šæ¡TCPè¿æ¥åŒæ—¶è¶…æ—¶ï¼Œè¿›å…¥æ…¢å¼€å§‹ï¼Œé€ æˆç½‘ç»œæµé‡çš„å‰§çƒˆéœ‡è¡ï¼Œå³<strong class="text-red-500 font-semibold">å…¨å±€åŒæ­¥</strong>ã€‚</p>
                    <p><strong>ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç† (AQM)</strong> æ˜¯ä¸€ç§æ›´æ™ºèƒ½çš„ç­–ç•¥ã€‚å®ƒä¸ç­‰åˆ°é˜Ÿåˆ—å®Œå…¨æ»¡äº†æ‰è¡ŒåŠ¨ï¼Œè€Œæ˜¯åœ¨é˜Ÿåˆ—é•¿åº¦è¾¾åˆ°æŸä¸ªé˜ˆå€¼æ—¶ï¼Œå°±å¼€å§‹ä»¥ä¸€å®šçš„æ¦‚ç‡<strong class="text-blue-600 font-semibold">ä¸»åŠ¨ä¸¢å¼ƒ</strong>åˆ†ç»„ã€‚è¿™èƒ½æå‰å‘å‘é€æ–¹å‘å‡ºæ‹¥å¡ä¿¡å·ï¼Œé¿å…å…¨å±€åŒæ­¥ï¼Œä½¿ç½‘ç»œæ›´åŠ å¹³ç¨³ã€‚</p>
                </div>
                <div class="card p-8">
                     <h3 class="text-2xl font-bold mb-4 text-center">RED ç®—æ³•ç¤ºæ„</h3>
                     <div class="space-y-3">
                        <div class="flex items-center w-full h-10 rounded-md overflow-hidden border">
                            <div class="w-1/3 h-full bg-green-100 flex items-center justify-center font-semibold text-green-800">æ­£å¸¸å…¥é˜Ÿ</div>
                            <div class="w-1/3 h-full bg-amber-100 flex items-center justify-center font-semibold text-amber-800">æ¦‚ç‡ä¸¢å¼ƒ</div>
                            <div class="w-1/3 h-full bg-red-100 flex items-center justify-center font-semibold text-red-800">å…¨éƒ¨ä¸¢å¼ƒ</div>
                        </div>
                        <div class="relative flex justify-between text-sm font-medium text-gray-500 px-1">
                            <span>|</span>
                            <span>|</span>
                            <span>|</span>
                            <div class="absolute w-full flex justify-between top-4">
                                <span>0</span>
                                <span>æœ€å°é—¨é™</span>
                                <span>æœ€å¤§é—¨é™</span>
                            </div>
                        </div>
                        <p class="text-sm text-center text-gray-500 pt-4">â† å¹³å‡é˜Ÿåˆ—é•¿åº¦ â†’</p>
                     </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t mt-16">
        <div class="container mx-auto px-6 py-6 text-center text-gray-500">
            <p>åŸºäºã€Šè®¡ç®—æœºç½‘ç»œã€‹æ•™æå†…å®¹æ„å»ºçš„äº¤äº’å¼å­¦ä¹ åº”ç”¨ã€‚</p>
        </div>
    </footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        const throughputCtx = document.getElementById('throughputChart').getContext('2d');
        new Chart(throughputCtx, {
            type: 'line',
            data: {
                labels: ['0', '10', '20', '30', '40', '50', '60', '70', '80', '90', '100'],
                datasets: [{
                    label: 'ç†æƒ³æ‹¥å¡æ§åˆ¶',
                    data: [0, 10, 20, 30, 40, 50, 50, 50, 50, 50, 50],
                    borderColor: 'rgba(75, 192, 192, 1)',
                    backgroundColor: 'rgba(75, 192, 192, 0.1)',
                    borderWidth: 2,
                    tension: 0.1,
                    pointRadius: 0,
                    fill: true
                }, {
                    label: 'å®é™…çš„æ‹¥å¡æ§åˆ¶',
                    data: [0, 9, 18, 26, 33, 38, 42, 44, 45, 45, 44],
                    borderColor: 'rgba(54, 162, 235, 1)',
                    backgroundColor: 'rgba(54, 162, 235, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 0,
                    fill: true
                }, {
                    label: 'æ— æ‹¥å¡æ§åˆ¶',
                    data: [0, 10, 20, 28, 34, 30, 22, 15, 5, 0, 0],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    backgroundColor: 'rgba(255, 99, 132, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 0,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { title: { display: true, text: 'æä¾›çš„è´Ÿè½½' } },
                    y: { title: { display: true, text: 'ååé‡' }, beginAtZero: true }
                },
                plugins: { tooltip: { mode: 'index', intersect: false } }
            }
        });

        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabPanes = document.querySelectorAll('.tab-pane');
        
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                tabPanes.forEach(pane => {
                    pane.classList.toggle('hidden', pane.dataset.tabContent !== btn.dataset.tab);
                });
            });
        });
        tabBtns[0].click();

        const congestionCtx = document.getElementById('congestionChart').getContext('2d');
        let congestionChart;
        let state;
        const ssthreshInput = document.getElementById('initial-ssthresh');
        const statusTextEl = document.getElementById('statusText');

        function resetState() {
            const initialSsthresh = parseInt(ssthreshInput.value, 10) || 16;
            state = {
                round: 0,
                cwnd: 1,
                ssthresh: initialSsthresh,
                mode: 'æ…¢å¼€å§‹',
                history: [{ round: 0, cwnd: 1, ssthresh: initialSsthresh }]
            };
        }

        function updateStatusText(message) {
            statusTextEl.innerHTML = `
                <p><strong>ä¼ è¾“è½®æ¬¡:</strong> <span class="font-mono">${state.round}</span></p>
                <p><strong>æ‹¥å¡çª—å£ (cwnd):</strong> <span class="font-mono">${state.cwnd} MSS</span></p>
                <p><strong>æ…¢å¼€å§‹é—¨é™ (ssthresh):</strong> <span class="font-mono">${state.ssthresh} MSS</span></p>
                <p><strong>å½“å‰ç®—æ³•:</strong> <span class="font-bold text-blue-600">${state.mode}</span></p>
                <p class="mt-2 text-sm text-gray-600 italic">${message}</p>
            `;
        }

        function renderCongestionChart() {
            const labels = state.history.map(h => h.round);
            const cwndData = state.history.map(h => h.cwnd);
            const ssthreshData = state.history.map(h => ({ x: h.round, y: h.ssthresh }));

            if (congestionChart) {
                congestionChart.destroy();
            }

            congestionChart = new Chart(congestionCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'æ‹¥å¡çª—å£ (cwnd)',
                        data: cwndData,
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderWidth: 3,
                        tension: 0.1,
                        fill: true,
                        pointRadius: 5,
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                    }, {
                        label: 'æ…¢å¼€å§‹é—¨é™ (ssthresh)',
                        data: ssthreshData,
                        borderColor: 'rgba(239, 68, 68, 1)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        stepped: true,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { title: { display: true, text: 'ä¼ è¾“è½®æ¬¡' } },
                        y: { title: { display: true, text: 'çª—å£å¤§å° (MSS)' }, beginAtZero: true }
                    },
                     plugins: {
                        tooltip: {
                           callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) { label += `${context.parsed.y} MSS`; }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
             updateStatusText("æ¨¡æ‹Ÿå·²å¼€å§‹ã€‚æ‚¨å¯éšæ—¶åœ¨ä¸Šæ–¹ä¿®æ”¹å‚æ•°å¹¶é‡ç½®ã€‚");
        }

        function handleNextStep() {
            state.round++;
            let message = "";
            
            if (state.mode === 'æ…¢å¼€å§‹') {
                state.cwnd *= 2;
                message = `æ…¢å¼€å§‹é˜¶æ®µï¼Œcwndç¿»å€ã€‚`;
                if (state.cwnd >= state.ssthresh) {
                    state.mode = 'æ‹¥å¡é¿å…';
                    message += ` cwndè¾¾åˆ°æˆ–è¶…è¿‡ssthreshï¼Œåˆ‡æ¢åˆ°æ‹¥å¡é¿å…ã€‚`;
                }
            } else if (state.mode === 'æ‹¥å¡é¿å…') {
                state.cwnd++;
                message = `æ‹¥å¡é¿å…é˜¶æ®µï¼ŒcwndåŠ 1ã€‚`;
            }
            
            state.history.push({ round: state.round, cwnd: state.cwnd, ssthresh: state.ssthresh });
            renderCongestionChart();
            updateStatusText(message);
        }

        function handleTimeout() {
            state.round++;
            state.ssthresh = Math.max(Math.floor(state.cwnd / 2), 2);
            state.cwnd = 1;
            state.mode = 'æ…¢å¼€å§‹';
            const message = `æ£€æµ‹åˆ°è¶…æ—¶ï¼ˆç½‘ç»œæ‹¥å¡ï¼‰ï¼ssthreshå‡åŠï¼Œcwndé‡ç½®ä¸º1ï¼Œé‡æ–°è¿›å…¥æ…¢å¼€å§‹é˜¶æ®µã€‚`;
            state.history.push({ round: state.round, cwnd: state.cwnd, ssthresh: state.ssthresh });
            renderCongestionChart();
            updateStatusText(message);
        }

        function handleLoss() {
            if(state.cwnd < 2) {
                 updateStatusText("cwndå¤ªå°ï¼Œæ— æ³•æ¨¡æ‹Ÿä¸¢åŒ…ï¼Œè¯·å…ˆè¿›è¡Œå‡ è½®ä¼ è¾“ã€‚");
                 return;
            }
            state.round++;
            state.ssthresh = Math.max(Math.floor(state.cwnd / 2), 2);
            state.cwnd = state.ssthresh;
            state.mode = 'æ‹¥å¡é¿å…';
            const message = `æ”¶åˆ°3ä¸ªé‡å¤ACKï¼ˆæ¨¡æ‹Ÿä¸¢åŒ…ï¼‰ï¼æ‰§è¡Œå¿«æ¢å¤ï¼Œssthreshå‡åŠï¼Œcwndè®¾ä¸ºæ–°çš„ssthreshï¼Œè¿›å…¥æ‹¥å¡é¿å…ã€‚`;
            state.history.push({ round: state.round, cwnd: state.cwnd, ssthresh: state.ssthresh });
            renderCongestionChart();
            updateStatusText(message);
        }

        function resetSimulation() {
            resetState();
            renderCongestionChart();
        }

        document.getElementById('nextStepBtn').addEventListener('click', handleNextStep);
        document.getElementById('simulateTimeoutBtn').addEventListener('click', handleTimeout);
        document.getElementById('simulateLossBtn').addEventListener('click', handleLoss);
        document.getElementById('resetBtn').addEventListener('click', resetSimulation);
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        resetState();
        renderCongestionChart();
    });
</script>

</body>
</html>
