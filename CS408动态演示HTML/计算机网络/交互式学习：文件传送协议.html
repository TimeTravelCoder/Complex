<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼å­¦ä¹ åº”ç”¨ï¼šæ–‡ä»¶ä¼ é€åè®®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Modern Indigo (Background: #F1F5F9, Text: #1E293B, Primary: #4338CA, Accent: #059669) -->
    <!-- Application Structure Plan: æœ¬åº”ç”¨è®¾è®¡ä¸ºå•é¡µåº”ç”¨ï¼Œè®¾æœ‰â€œFTPåè®®è¯¦è§£â€ã€â€œTFTPåè®®ç®€ä»‹â€å’Œâ€œåè®®å¯¹æ¯”â€ä¸‰ä¸ªä¸»è¦æ¨¡å—ï¼Œé€šè¿‡é¡¶éƒ¨é€‰é¡¹å¡å¯¼èˆªã€‚æ ¸å¿ƒæ˜¯FTPçš„å¯è§†åŒ–æ¼”ç¤ºï¼Œç”¨æˆ·å¯ç‚¹å‡»æŒ‰é’®åˆ†æ­¥è§‚çœ‹FTPå»ºç«‹æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥çš„å…¨è¿‡ç¨‹ï¼Œå°†æŠ½è±¡çš„åŒè¿æ¥æ¨¡å‹å…·è±¡åŒ–ã€‚TFTPéƒ¨åˆ†åˆ™ä»¥ç®€æ´çš„å¡ç‰‡çªå‡ºå…¶è½»é‡çº§ç‰¹æ€§ã€‚æœ€åçš„å¯¹æ¯”è¡¨æ ¼åˆ™æ¸…æ™°åœ°æ€»ç»“äº†ä¸¤è€…çš„å…³é”®åŒºåˆ«ï¼Œå¸®åŠ©ç”¨æˆ·å·©å›ºçŸ¥è¯†ã€‚è¿™ä¸ªç»“æ„ä»æ·±å…¥è®²è§£åˆ°ç®€åŒ–å¯¹æ¯”ï¼Œç¬¦åˆå­¦ä¹ è®¤çŸ¥è§„å¾‹ã€‚ -->
    <!-- Visualization & Content Choices: 1. FTPå·¥ä½œåŸç† (Goal: Explain Process): ä½¿ç”¨HTML/CSSå’ŒJavaScriptåˆ›å»ºä¸€ä¸ªåŠ¨æ€çš„åˆ†æ­¥åŠ¨ç”»ã€‚ç”¨divä»£è¡¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œç”¨ä¸¤æ¡ä¸åŒé¢œè‰²çš„ã€å¯åŠ¨æ€å‡ºç°çš„çº¿æ¡ä»£è¡¨æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥ã€‚é€šè¿‡JSæ§åˆ¶æŠ¥æ–‡å›¾æ ‡åœ¨è¿æ¥ä¸Šçš„ç§»åŠ¨ï¼Œå¹¶åŒæ­¥æ›´æ–°çŠ¶æ€è¯´æ˜æ¡†ï¼Œæ¸…æ™°å±•ç¤ºFTPçš„å¸¦å¤–æ§åˆ¶ç‰¹æ€§ã€‚2. TFTP (Goal: Inform): ä½¿ç”¨ç®€æ´çš„å¡ç‰‡å¸ƒå±€ï¼Œåˆ—å‡ºTFTPçš„å…³é”®ç‰¹ç‚¹ï¼ˆUDPã€ç«¯å£69ã€512å­—èŠ‚å—ç­‰ï¼‰ï¼Œä¸FTPçš„å¤æ‚æ€§å½¢æˆå¯¹æ¯”ã€‚3. åè®®å¯¹æ¯” (Goal: Compare): ä½¿ç”¨ä¸€ä¸ªæ¸…æ™°çš„HTMLè¡¨æ ¼ï¼Œå¯¹ä¼ è¾“åè®®ã€è¿æ¥æ¨¡å‹ã€ç«¯å£ã€åŠŸèƒ½ç­‰ç»´åº¦è¿›è¡Œå¹¶åˆ—æ¯”è¾ƒï¼Œé«˜æ•ˆåœ°æ€»ç»“ä¿¡æ¯ã€‚ (CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.) -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #F1F5F9;
            color: #1E293B;
        }
        .tab-btn.active {
            border-bottom-color: #4338CA; /* Indigo 700 */
            color: #312E81; /* Indigo 900 */
            font-weight: 700;
        }
        .tab-btn {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            padding: 0.75rem 1.5rem;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem; /* 12px */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.07);
            border: 1px solid #E2E8F0;
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #ftp-animation-container {
            position: relative;
            height: 300px;
        }
        .ftp-entity {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 130px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .ftp-entity.active {
            box-shadow: 0 0 20px rgba(67, 56, 202, 0.4);
            transform: translateY(-50%) scale(1.05);
        }
        #client { left: 10%; }
        #server { right: 10%; }
        .connection-line {
            position: absolute;
            left: calc(10% + 130px);
            width: calc(80% - 130px);
            height: 5px;
            background-color: #E2E8F0;
            transform-origin: left;
            transform: scaleX(0);
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            border-radius: 5px;
        }
        #control-line { top: 40%; background-color: #6366F1;}
        #data-line { top: 60%; background-color: #2DD4BF;}
        .packet {
            position: absolute;
            top: 35%;
            left: calc(10% + 130px);
            font-size: 2rem;
            opacity: 0;
            transition: all 1.5s cubic-bezier(0.45, 0, 0.55, 1);
        }
        #data-packet { top: 55%; }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800">äº¤äº’å¼å­¦ä¹ ï¼šæ–‡ä»¶ä¼ é€åè®®</h1>
            <p class="mt-4 text-lg text-slate-500">æ·±å…¥ç†è§£ FTP å’Œ TFTP çš„å·¥ä½œåŸç†</p>
        </header>

        <nav class="flex justify-center border-b border-slate-200 mb-12">
            <button class="tab-btn text-lg" data-tab="ftp">FTPåè®®è¯¦è§£</button>
            <button class="tab-btn text-lg" data-tab="tftp">TFTPåè®®ç®€ä»‹</button>
            <button class="tab-btn text-lg" data-tab="comparison">åè®®å¯¹æ¯”</button>
        </nav>

        <main>
            <!-- FTP Section -->
            <section id="ftp" class="tab-content animate-fade-in">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold mb-4 text-indigo-700">FTP çš„åŸºæœ¬å·¥ä½œåŸç†</h2>
                    <p class="text-slate-600 leading-relaxed mb-8 max-w-3xl">
                        FTP ä½¿ç”¨å®¢æˆ·æœåŠ¡å™¨æ–¹å¼å·¥ä½œã€‚å…¶æœ€æ ¸å¿ƒçš„ç‰¹ç‚¹æ˜¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼šå»ºç«‹<span class="font-semibold text-slate-800">ä¸¤ä¸ªç‹¬ç«‹çš„å¹¶è¡ŒTCPè¿æ¥</span>ï¼šä¸€ä¸ªç”¨äºå‘é€å‘½ä»¤å’Œå“åº”ï¼ˆæ§åˆ¶è¿æ¥ï¼‰ï¼Œå¦ä¸€ä¸ªç”¨äºä¼ è¾“å®é™…çš„æ–‡ä»¶ï¼ˆæ•°æ®è¿æ¥ï¼‰ã€‚è¿™ç§â€œå¸¦å¤–æ§åˆ¶â€æœºåˆ¶æ˜¯ç†è§£FTPçš„å…³é”®ã€‚
                    </p>
                    
                    <div id="ftp-animation-container" class="bg-slate-100 rounded-lg p-4 border border-slate-200 mb-6">
                        <div id="client" class="ftp-entity card p-4">
                            <span class="text-3xl">ğŸ’»</span>
                            <div class="font-bold mt-1">FTP å®¢æˆ·ç«¯</div>
                        </div>
                        <div id="server" class="ftp-entity card p-4">
                            <span class="text-3xl">ğŸ—„ï¸</span>
                            <div class="font-bold mt-1">FTP æœåŠ¡å™¨</div>
                        </div>
                        <div id="control-line" class="connection-line"></div>
                        <div id="control-packet" class="packet">ğŸ“„</div>
                        <div class="absolute top-[calc(40%-25px)] left-1/2 -translate-x-1/2 bg-slate-100 px-2 text-indigo-600 font-semibold">æ§åˆ¶è¿æ¥ (ç«¯å£ 21)</div>
                        
                        <div id="data-line" class="connection-line"></div>
                        <div id="data-packet" class="packet">ğŸ“¦</div>
                        <div class="absolute top-[calc(60%-25px)] left-1/2 -translate-x-1/2 bg-slate-100 px-2 text-teal-600 font-semibold">æ•°æ®è¿æ¥ (ç«¯å£ 20)</div>
                    </div>

                    <div id="ftp-explanation-box" class="min-h-[4rem] p-4 bg-indigo-50 text-indigo-800 border-l-4 border-indigo-500 rounded-r-lg">
                        <p id="ftp-explanation-text" class="font-medium">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¼€å§‹åˆ†æ­¥æ¼”ç¤ºFTPçš„å·¥ä½œæµç¨‹ã€‚</p>
                    </div>

                    <div class="flex justify-center items-center gap-4 mt-6">
                        <button id="play-ftp" class="py-2 px-6 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-all duration-200">å¼€å§‹/ä¸‹ä¸€æ­¥</button>
                        <button id="reset-ftp" class="py-2 px-6 bg-slate-500 text-white font-semibold rounded-lg shadow-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75 transition-all duration-200">é‡ç½®åŠ¨ç”»</button>
                    </div>
                </div>
            </section>

            <!-- TFTP Section -->
            <section id="tftp" class="tab-content hidden animate-fade-in">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold mb-4 text-indigo-700">ç®€å•æ–‡ä»¶ä¼ é€åè®® (TFTP)</h2>
                    <p class="text-slate-600 leading-relaxed mb-8 max-w-3xl">
                        TFTP æ˜¯ FTP çš„ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼Œè®¾è®¡ç›®æ ‡æ˜¯ç®€å•ã€æ˜“äºå®ç°ä¸”å ç”¨å†…å­˜å°ã€‚å®ƒå¸¸ç”¨äºç½‘ç»œè®¾å¤‡å¯åŠ¨æ—¶ä¸‹è½½é…ç½®æ–‡ä»¶ç­‰åœºæ™¯ã€‚
                    </p>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="bg-rose-50 border-2 border-dashed border-rose-200 p-6 rounded-lg">
                            <h3 class="font-bold text-xl text-rose-800 mb-3">ä¸FTPçš„ä¸»è¦åŒºåˆ«</h3>
                            <ul class="list-disc list-inside text-rose-700 space-y-2">
                                <li><span class="font-semibold">ä½¿ç”¨ UDP åè®®ï¼š</span>ä¸ä½¿ç”¨å¯é çš„TCPä¸åŒï¼ŒTFTPåŸºäºä¸å¯é çš„UDPï¼Œå› æ­¤åè®®å†…éƒ¨éœ€è¦è‡ªå·±å®ç°å·®é”™æ”¹æ­£æªæ–½ï¼ˆå¦‚è¶…æ—¶é‡ä¼ ï¼‰ã€‚</li>
                                <li><span class="font-semibold">åŠŸèƒ½æç®€ï¼š</span>ä¸æ”¯æŒäº¤äº’å¼æ“ä½œï¼Œæ²¡æœ‰ç›®å½•åˆ—è¡¨ã€ç”¨æˆ·è®¤è¯ç­‰å¤æ‚åŠŸèƒ½ã€‚</li>
                            </ul>
                        </div>
                        <div class="bg-sky-50 border-2 border-dashed border-sky-200 p-6 rounded-lg">
                            <h3 class="font-bold text-xl text-sky-800 mb-3">æ ¸å¿ƒå·¥ä½œç‰¹ç‚¹</h3>
                             <ul class="list-disc list-inside text-sky-700 space-y-2">
                                <li><span class="font-semibold">ç†ŸçŸ¥ç«¯å£ 69ï¼š</span>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ç†ŸçŸ¥ç«¯å£ 69 å‘é€è¯·æ±‚ã€‚</li>
                                <li><span class="font-semibold">æ–°ä¸´æ—¶ç«¯å£ï¼š</span>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼šé€‰æ‹©ä¸€ä¸ªæ–°çš„ä¸´æ—¶ç«¯å£ä¸å®¢æˆ·ç«¯é€šä¿¡ã€‚</li>
                                <li><span class="font-semibold">512å­—èŠ‚æ•°æ®å—ï¼š</span>æ–‡ä»¶è¢«åˆ†å‰²æˆå›ºå®šå¤§å°ï¼ˆ512å­—èŠ‚ï¼‰çš„æ•°æ®å—è¿›è¡Œä¼ è¾“ã€‚</li>
                                <li><span class="font-semibold">åœæ­¢ç­‰å¾…åè®®ï¼š</span>æ¯å‘é€ä¸€ä¸ªæ•°æ®å—ï¼Œéƒ½å¿…é¡»ç­‰å¾…å¯¹æ–¹çš„ç¡®è®¤ï¼Œè¶…æ—¶åˆ™é‡ä¼ ã€‚</li>
                             </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Comparison Section -->
            <section id="comparison" class="tab-content hidden animate-fade-in">
                <div class="card p-6 md:p-8">
                     <h2 class="text-3xl font-bold mb-8 text-center text-indigo-700">FTP vs. TFTP æ ¸å¿ƒåŒºåˆ«</h2>
                     <div class="overflow-x-auto rounded-lg border border-slate-200">
                        <table class="w-full text-left">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="p-4 font-semibold text-slate-700">ç‰¹æ€§</th>
                                    <th class="p-4 font-semibold text-slate-700">FTP (æ–‡ä»¶ä¼ é€åè®®)</th>
                                    <th class="p-4 font-semibold text-slate-700">TFTP (ç®€å•æ–‡ä»¶ä¼ é€åè®®)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-200">
                                <tr class="hover:bg-slate-50">
                                    <td class="p-4 font-medium">ä¼ è¾“åè®®</td>
                                    <td class="p-4 text-slate-600">TCP (å¯é )</td>
                                    <td class="p-4 text-slate-600">UDP (ä¸å¯é )</td>
                                </tr>
                                <tr class="hover:bg-slate-50">
                                    <td class="p-4 font-medium">è¿æ¥æ¨¡å‹</td>
                                    <td class="p-4 text-slate-600">ä¸¤ä¸ªå¹¶è¡Œè¿æ¥ï¼ˆæ§åˆ¶å’Œæ•°æ®ï¼‰</td>
                                    <td class="p-4 text-slate-600">å•ä¸€è¿æ¥ï¼ˆåœæ­¢ç­‰å¾…ï¼‰</td>
                                </tr>
                                 <tr class="hover:bg-slate-50">
                                    <td class="p-4 font-medium">ç«¯å£å·</td>
                                    <td class="p-4 text-slate-600">æ§åˆ¶: 21, æ•°æ®: 20</td>
                                    <td class="p-4 text-slate-600">è¯·æ±‚: 69, æ•°æ®: ä¸´æ—¶ç«¯å£</td>
                                </tr>
                                <tr class="hover:bg-slate-50">
                                    <td class="p-4 font-medium">åŠŸèƒ½å¤æ‚åº¦</td>
                                    <td class="p-4 text-slate-600">åŠŸèƒ½ä¸°å¯Œï¼Œæ”¯æŒäº¤äº’ã€ç”¨æˆ·è®¤è¯ã€ç›®å½•åˆ—è¡¨</td>
                                    <td class="p-4 text-slate-600">åŠŸèƒ½æç®€ï¼Œä»…æ”¯æŒæ–‡ä»¶è¯»å†™</td>
                                </tr>
                                 <tr class="hover:bg-slate-50">
                                    <td class="p-4 font-medium">å…¸å‹ç”¨é€”</td>
                                    <td class="p-4 text-slate-600">ç½‘ç«™æ–‡ä»¶ç®¡ç†ã€è½¯ä»¶ä¸‹è½½ç­‰é€šç”¨æ–‡ä»¶ä¼ è¾“</td>
                                    <td class="p-4 text-slate-600">ç½‘ç»œè®¾å¤‡å¼•å¯¼ã€æ— ç›˜ç«™å¯åŠ¨</td>
                                </tr>
                            </tbody>
                        </table>
                     </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-btn');
            const contents = document.querySelectorAll('.tab-content');

            function setActiveTab(tabId) {
                tabs.forEach(tab => {
                    tab.classList.toggle('active', tab.getAttribute('data-tab') === tabId);
                });
                contents.forEach(content => {
                    content.classList.toggle('hidden', content.id !== tabId);
                });
            }

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    setActiveTab(tab.getAttribute('data-tab'));
                });
            });

            setActiveTab('ftp');

            // FTP Animation Logic
            const playFtpBtn = document.getElementById('play-ftp');
            const resetFtpBtn = document.getElementById('reset-ftp');
            const controlLine = document.getElementById('control-line');
            const dataLine = document.getElementById('data-line');
            const controlPacket = document.getElementById('control-packet');
            const dataPacket = document.getElementById('data-packet');
            const ftpExplanationText = document.getElementById('ftp-explanation-text');
            const clientEntity = document.getElementById('client');
            const serverEntity = document.getElementById('server');

            let ftpStep = 0;
            let isFtpAnimating = false;

            const ftpSteps = [
                () => { // Step 1: Establish Control Connection
                    ftpExplanationText.textContent = "1. å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ç†ŸçŸ¥ç«¯å£21å‘èµ·è¯·æ±‚ï¼Œå»ºç«‹æ§åˆ¶è¿æ¥ã€‚æ­¤è¿æ¥åœ¨æ•´ä¸ªä¼šè¯æœŸé—´ä¿æŒã€‚";
                    controlLine.style.transform = 'scaleX(1)';
                    clientEntity.classList.add('active');
                    serverEntity.classList.add('active');
                },
                () => { // Step 2: Send Command
                    ftpExplanationText.textContent = "2. å®¢æˆ·ç«¯é€šè¿‡æ§åˆ¶è¿æ¥å‘é€å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼šè¯·æ±‚æ–‡ä»¶åˆ—è¡¨ï¼‰ã€‚";
                    controlPacket.style.transition = 'all 1.5s cubic-bezier(0.45, 0, 0.55, 1)';
                    controlPacket.style.left = 'calc(80% + 20px)';
                    controlPacket.style.opacity = '1';
                },
                () => { // Step 3: Server Responds (packet return)
                    controlPacket.style.transition = 'none';
                    controlPacket.style.left = 'calc(80% + 20px)';
                    controlPacket.style.opacity = '1';
                    setTimeout(() => {
                        ftpExplanationText.textContent = "3. æœåŠ¡å™¨é€šè¿‡æ§åˆ¶è¿æ¥è¿”å›å“åº”ï¼ˆä¾‹å¦‚ï¼šæ–‡ä»¶åˆ—è¡¨ï¼‰ã€‚";
                        controlPacket.style.transition = 'all 1.5s cubic-bezier(0.45, 0, 0.55, 1)';
                        controlPacket.style.left = 'calc(10% + 130px)';
                    }, 100);
                },
                () => { // Step 4: Establish Data Connection
                    controlPacket.style.opacity = '0';
                    ftpExplanationText.textContent = "4. å®¢æˆ·ç«¯è¯·æ±‚ä¸‹è½½æ–‡ä»¶ã€‚æœåŠ¡å™¨åˆ›å»ºæ•°æ®ä¼ é€è¿›ç¨‹ï¼Œå¹¶å»ºç«‹ç”¨äºä¼ è¾“æ–‡ä»¶çš„æ•°æ®è¿æ¥ï¼ˆä½¿ç”¨ç«¯å£20ï¼‰ã€‚";
                    dataLine.style.transform = 'scaleX(1)';
                },
                () => { // Step 5: Transfer Data
                    dataPacket.style.transition = 'none';
                    dataPacket.style.left = 'calc(80% + 20px)';
                     setTimeout(() => {
                        ftpExplanationText.textContent = "5. æ–‡ä»¶å†…å®¹é€šè¿‡æ•°æ®è¿æ¥ä»æœåŠ¡å™¨ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚";
                        dataPacket.style.transition = 'all 1.5s cubic-bezier(0.45, 0, 0.55, 1)';
                        dataPacket.style.left = 'calc(10% + 130px)';
                        dataPacket.style.opacity = '1';
                    }, 100);
                },
                () => { // Step 6: Close Data Connection
                    dataPacket.style.opacity = '0';
                    ftpExplanationText.textContent = "6. æ–‡ä»¶ä¼ è¾“å®Œæˆï¼Œä¸´æ—¶çš„æ•°æ®è¿æ¥è¢«å…³é—­ã€‚";
                    dataLine.style.transform = 'scaleX(0)';
                },
                 () => { // Step 7: Control connection remains
                    ftpExplanationText.textContent = "7. æ§åˆ¶è¿æ¥ä»ç„¶ä¿æŒæ‰“å¼€ï¼Œå¯ç”¨äºå‘é€ä¸‹ä¸€ä¸ªå‘½ä»¤ï¼ˆå¦‚QUITï¼‰ã€‚";
                    controlLine.style.animation = 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite';
                }
            ];

            function resetFtpAnimation() {
                isFtpAnimating = false;
                ftpStep = 0;
                controlLine.style.transition = 'none';
                dataLine.style.transition = 'none';
                controlLine.style.transform = 'scaleX(0)';
                dataLine.style.transform = 'scaleX(0)';
                controlPacket.style.opacity = '0';
                dataPacket.style.opacity = '0';
                controlPacket.style.left = 'calc(10% + 130px)';
                dataPacket.style.left = 'calc(10% + 130px)';
                controlLine.style.animation = '';
                clientEntity.classList.remove('active');
                serverEntity.classList.remove('active');
                ftpExplanationText.textContent = "ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¼€å§‹åˆ†æ­¥æ¼”ç¤ºFTPçš„å·¥ä½œæµç¨‹ã€‚";
                playFtpBtn.disabled = false;
                setTimeout(() => {
                     controlLine.style.transition = 'transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
                     dataLine.style.transition = 'transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
                }, 100);
            }

            function playNextFtpStep() {
                if (isFtpAnimating || ftpStep >= ftpSteps.length) return;
                
                isFtpAnimating = true;
                clientEntity.classList.remove('active');
                serverEntity.classList.remove('active');
                controlLine.style.animation = '';

                ftpSteps[ftpStep]();
                ftpStep++;
                
                if (ftpStep >= ftpSteps.length) {
                    playFtpBtn.disabled = true;
                }

                setTimeout(() => {
                    isFtpAnimating = false;
                    if(ftpStep < 4) {
                        clientEntity.classList.remove('active');
                        serverEntity.classList.remove('active');
                    }
                }, 1800); 
            }

            playFtpBtn.addEventListener('click', playNextFtpStep);
            resetFtpBtn.addEventListener('click', resetFtpAnimation);

        });
    </script>
</body>
</html>
